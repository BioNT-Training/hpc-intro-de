<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="de" data-bs-theme="auto">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>Introduction to High-Performance Computing: Alles auf einen Blick</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="../assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="../assets/styles.css">
<script src="../assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="../favicons/cp/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicons/cp/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../favicons/cp/favicon-16x16.png">
<link rel="manifest" href="../favicons/cp/site.webmanifest">
<link rel="mask-icon" href="../favicons/cp/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="white">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="black">
</head>
<body>
    <header id="top" class="navbar navbar-expand-md top-nav carpentries"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Zum Hauptinhalt springen</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="cp-logo" alt="Lesson Description" src="../assets/images/carpentries-logo.svg"><span class="badge text-bg-warning">
          <abbr title="Diese Lektion befindet sich in der Alpha-Phase, was bedeutet, dass sie bereits einmal unterrichtet wurde und die Autoren das Feedback einarbeiten.">
            <a href="https://docs.carpentries.org/resources/curriculum/lesson-life-cycle.html" class="external-link alert-link">
              <i aria-hidden="true" class="icon" data-feather="alert-triangle" style="border-radius: 5px"></i>
              Alpha
            </a>
            <span class="visually-hidden">Diese Lektion befindet sich in der Alpha-Phase, was bedeutet, dass sie bereits einmal unterrichtet wurde und die Autoren das Feedback einarbeiten.</span>
          </abbr>
        </span>

      </div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Thema umschalten (automatisch)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text">
<li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul>
</li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Dozentenansicht <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
<li><button class="dropdown-item" type="button" onclick="window.location.href='../aio.html';">Lernansicht</button></li>
        </ul>
</div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav carpentries" aria-label="Hauptnavigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Navigation umschalten">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menü</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Lesson Description" src="../assets/images/carpentries-logo-sm.svg">
</div>
    <div class="lesson-title-md">
      Introduction to High-Performance Computing
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Suche auf der All-In-One-Seite" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
<li class="nav-item">
          <span class="lesson-title">
            Introduction to High-Performance Computing
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/key-points.html">Hauptpunkte</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/instructor-notes.html">Dozentennotizen</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/images.html">Alle Bilder extrahieren</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            Mehr <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
<li><a class="dropdown-item" href="learner-prerequisites.html">Learner Prerequisites</a></li>
<li><a class="dropdown-item" href="learner-profiles.html">Learner Profiles</a></li>
<hr>
<li><a class="dropdown-item" href="discuss.html">Ihre nächsten Schritte</a></li>
<li><a class="dropdown-item" href="reference.html">Wissensdatenbank</a></li>
          </ul>
</li>
      </ul>
</div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Suche auf der All-In-One-Seite"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="../instructor/aio.html" role="button" aria-label="Suche auf der All-In-One-Seite">Suche auf der All-In-One-Seite</a>
  </div>
<!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Introduction to High-Performance Computing
</div>

<aside class="col-md-12 lesson-progress"><div style="width: %" class="percentage">
    %
  </div>
  <div class="progress carpentries">
    <div class="progress-bar carpentries" role="progressbar" style="width: %" aria-valuenow="" aria-label="Lernfortschritt" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="Menü schließen" alt="Menü schließen" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Ausblenden " data-episodes="Episoden ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text">
<li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul>
</li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Dozentenansicht
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="../aio.html">Lernansicht</a>
                      </div>
                    </div>
                  </div>
<!--/div.accordion-item-->
                </div>
<!--/div.accordion-flush-->
              </div>
<!--div.sidenav-view-selector -->
            </div>
<!--/div.col -->

            <hr>
</div>
<!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODEN
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Zusammenfassung und Zeitplan</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="10-hpc-intro.html">1. Warum einen Cluster verwenden?</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="11-connecting.html">2. Verbinden mit einem entfernten HPC-System</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="12-cluster.html">3. Arbeiten auf einem entfernten HPC-System</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="13-scheduler.html">4. Grundlagen des Schedulers</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="14-environment-variables.html">5. Umgebungsvariablen</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="15-modules.html">6. Zugriff auf Software über Module</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush8">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading8">
        <a href="16-transferring-files.html">7. Übertragen von Dateien mit entfernten Computern</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush9">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading9">
        <a href="17-parallel.html">8. Ausführen eines parallelen Auftrags</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush10">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading10">
        <a href="18-resources.html">9. Effektive Nutzung von Ressourcen</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush11">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading11">
        <a href="19-responsibility.html">10. Gemeinsame Ressourcen verantwortungsvoll nutzen</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width">
<div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESSOURCEN
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul>
<li>
                        <a href="../instructor/key-points.html">Hauptpunkte</a>
                      </li>
                      <li>
                        <a href="../instructor/instructor-notes.html">Dozentennotizen</a>
                      </li>
                      <li>
                        <a href="../instructor/images.html">Alle Bilder extrahieren</a>
                      </li>
                      <li><a href="learner-prerequisites.html">Learner Prerequisites</a></li>
<li><a href="learner-profiles.html">Learner Profiles</a></li>
<hr>
<li><a class="dropdown-item" href="discuss.html">Ihre nächsten Schritte</a></li>
<li><a class="dropdown-item" href="reference.html">Wissensdatenbank</a></li>
                    </ul>
</div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources">
<a href="../instructor/aio.html">Alles auf einer Seite sehen</a>


            <hr class="d-none d-sm-block d-md-none">
<div class="d-grid gap-1">

            </div>
          </div>
<!-- /div.accordion -->
        </div>
<!-- /div.sidebar-inner -->
      </nav>
</div>
<!-- /div.sidebar -->
  </div>
<!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-extra.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <main id="main-content" class="main-content"><div class="container lesson-content">
        
        
<section id="aio-10-hpc-intro"><p>Content from <a href="10-hpc-intro.html">Warum einen Cluster verwenden?</a></p>
<hr>
<p>Zuletzt aktualisiert am 2025-08-04 |

        <a href="https://github.com/ocaisa/probable-pancake/edit/main/episodes/10-hpc-intro.md" class="external-link">Diese Seite bearbeiten <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Geschätzte Zeit: <i aria-hidden="true" data-feather="clock"></i> 20 Minuten</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Alle Lösungen anzeigen " data-collapse="Alle Lösungen ausblenden "> Alle Lösungen anzeigen <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Übersicht</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Fragen</h3>
<ul>
<li>Warum sollte ich mich für High Performance Computing (HPC)
interessieren?</li>
<li>Was kann ich von diesem Kurs erwarten?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Ziele</h3>
<ul>
<li>Beschreiben Sie, was ein HPC-System ist</li>
<li>Ermitteln Sie, welchen Nutzen ein HPC-System für Sie haben
könnte.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>Häufig wachsen Forschungsprobleme, die mit Hilfe von Computern
bearbeitet werden, über die Möglichkeiten des Desktop- oder
Laptop-Computers hinaus, auf dem sie begonnen haben:</p>
<ul>
<li>Ein Statistikstudent möchte ein Modell kreuzvalidieren. Dazu muss
das Modell 1000 Mal ausgeführt werden, aber jeder Durchlauf dauert eine
Stunde. Die Ausführung des Modells auf einem Laptop würde über einen
Monat dauern! Bei diesem Forschungsproblem werden die Endergebnisse
berechnet, nachdem alle 1000 Modelle gelaufen sind, aber normalerweise
wird immer nur ein Modell (in <strong>Serie</strong>) auf dem Laptop
ausgeführt. Da jeder der 1000 Durchläufe unabhängig von den anderen ist,
ist es theoretisch möglich, sie alle gleichzeitig
(<strong>parallel</strong>) laufen zu lassen, wenn genügend Computer
vorhanden sind.</li>
<li>Ein Genomforscher hat bisher mit kleinen Datensätzen von
Sequenzdaten gearbeitet, wird aber bald eine neue Art von
Sequenzierungsdaten erhalten, die zehnmal so groß sind. Es ist bereits
eine Herausforderung, die Datensätze auf einem Computer zu öffnen - die
Analyse dieser größeren Datensätze wird ihn wahrscheinlich zum Absturz
bringen. Bei diesem Forschungsproblem könnten die erforderlichen
Berechnungen nicht parallelisiert werden, aber ein Computer mit
<strong>mehr Speicher</strong> wäre erforderlich, um den viel größeren
zukünftigen Datensatz zu analysieren.</li>
<li>Ein Ingenieur verwendet ein Strömungsdynamik-Paket, das über eine
Option zur parallelen Ausführung verfügt. Bislang wurde diese Option auf
einem Desktop nicht genutzt. Bei der Umstellung von 2D- auf
3D-Simulationen hat sich die Simulationszeit mehr als verdreifacht. Es
könnte nützlich sein, diese Option oder Funktion zu nutzen. Bei diesem
Forschungsproblem sind die Berechnungen in jeder Region der Simulation
weitgehend unabhängig von den Berechnungen in anderen Regionen der
Simulation. Es ist möglich, die Berechnungen in jeder Region
gleichzeitig (<strong>parallel</strong>) auszuführen, ausgewählte
Ergebnisse je nach Bedarf an benachbarte Regionen weiterzugeben und die
Berechnungen zu wiederholen, um zu einem endgültigen Satz von
Ergebnissen zu konvergieren. Beim Übergang von einem 2D- zu einem
3D-Modell nimmt <strong>sowohl die Datenmenge als auch die Menge der
Berechnungen stark zu</strong>, und es ist theoretisch möglich, die
Berechnungen auf mehrere Computer zu verteilen, die über ein gemeinsames
Netzwerk kommunizieren.</li>
</ul>
<p>In all diesen Fällen ist der Zugang zu mehr (und größeren) Computern
erforderlich. Diese Rechner sollten gleichzeitig nutzbar sein, um
<strong>parallel</strong> die Probleme vieler Forscher zu lösen.</p>
<section><h2 class="section-heading" id="jargon-busting-präsentation">Jargon Busting Präsentation<a class="anchor" aria-label="anchor" href="#jargon-busting-pr%C3%A4sentation"></a>
</h2>
<hr class="half-width">
<p>Öffnen Sie den <a href="../files/jargon#p1">HPC Jargon Buster</a> in
einer neuen Registerkarte. Um den Inhalt zu präsentieren, drücken Sie
<code>C</code>, um eine <strong>c</strong>lone in einem separaten
Fenster zu öffnen, und drücken Sie dann <code>P</code>, um den
<strong>p</strong>Darstellungsmodus umzuschalten.</p>
<div id="ich-habe-noch-nie-einen-server-benutzt-oder" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="ich-habe-noch-nie-einen-server-benutzt-oder" class="callout-inner">
<h3 class="callout-title">Ich habe noch nie einen Server benutzt, oder?</h3>
<div class="callout-content">
<p>Nehmen Sie sich eine Minute Zeit und überlegen Sie, für welche Ihrer
täglichen Interaktionen mit einem Computer Sie möglicherweise einen
entfernten Server oder sogar einen Cluster benötigen, um Ergebnisse zu
erhalten.</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Einige Ideen
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<ul>
<li>Abrufen von E-Mails: Ihr Computer (möglicherweise in Ihrer
Hosentasche) kontaktiert einen entfernten Rechner, authentifiziert sich
und lädt eine Liste neuer Nachrichten herunter; außerdem werden
Änderungen des Nachrichtenstatus hochgeladen, z. B. ob Sie die Nachricht
gelesen, als Junk markiert oder gelöscht haben. Da Ihr Konto nicht das
einzige ist, ist der Mailserver wahrscheinlich einer von vielen in einem
Rechenzentrum.</li>
<li>Bei der Online-Suche nach einem Begriff wird der Suchbegriff mit
einer umfangreichen Datenbank aller bekannten Websites verglichen und
nach Übereinstimmungen gesucht. Diese “Abfrage” kann ganz einfach sein,
aber der Aufbau dieser Datenbank ist eine <a href="https://en.wikipedia.org/wiki/MapReduce" class="external-link">monumentale Aufgabe</a>!
Bei jedem Schritt sind Server beteiligt.</li>
<li>Bei der Suche nach einer Wegbeschreibung auf einer Karten-Website
werden (A) Start- und (B) Endpunkt durch <a href="https://en.wikipedia.org/wiki/Dijkstra%27s_algorithm" class="external-link">Durchqueren
eines Graphen</a> verbunden, um den “kürzesten” Weg nach Entfernung,
Zeit, Kosten oder einer anderen Metrik zu finden. Die Umwandlung einer
Karte in die richtige Form ist relativ einfach, aber die Berechnung
aller möglichen Routen zwischen A und B ist aufwendig.</li>
</ul>
<p>Das Abrufen von E-Mails könnte seriell sein: Ihr Rechner verbindet
sich mit einem Server und tauscht Daten aus. Eine Suche durch Abfrage
der Datenbank nach Ihrem Suchbegriff (oder Endpunkten) könnte ebenfalls
seriell sein, da ein Rechner Ihre Anfrage erhält und das Ergebnis
zurückgibt. Das Zusammenstellen und Speichern der gesamten Datenbank
übersteigt jedoch bei weitem die Möglichkeiten eines einzelnen Rechners.
Daher werden diese Funktionen parallel von einer großen, <a href="https://en.wikipedia.org/wiki/Hyperscale_computing" class="external-link">“hyperscale”</a>
Sammlung von Servern ausgeführt, die zusammenarbeiten.</p>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Hauptpunkte</h3>
<div class="callout-content">
<ul>
<li>Beim High Performance Computing (HPC) wird in der Regel eine
Verbindung zu sehr großen Rechensystemen an anderen Orten der Welt
hergestellt.</li>
<li>Diese anderen Systeme können für Arbeiten verwendet werden, die auf
kleineren Systemen entweder unmöglich oder sehr viel langsamer
wären.</li>
<li>HPC-Ressourcen werden von mehreren Benutzern gemeinsam genutzt.</li>
<li>Die Standardmethode zur Interaktion mit solchen Systemen erfolgt
über eine Befehlszeilenschnittstelle.</li>
</ul>
</div>
</div>
</div>
</section></section><section id="aio-11-connecting"><p>Content from <a href="11-connecting.html">Verbinden mit einem entfernten HPC-System</a></p>
<hr>
<p>Zuletzt aktualisiert am 2025-08-04 |

        <a href="https://github.com/ocaisa/probable-pancake/edit/main/episodes/11-connecting.Rmd" class="external-link">Diese Seite bearbeiten <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Geschätzte Zeit: <i aria-hidden="true" data-feather="clock"></i> 35 Minuten</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Alle Lösungen anzeigen " data-collapse="Alle Lösungen ausblenden "> Alle Lösungen anzeigen <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Übersicht</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Fragen</h3>
<ul>
<li>Wie melde ich mich bei einem entfernten HPC-System an?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Ziele</h3>
<ul>
<li>Konfigurieren Sie den sicheren Zugriff auf ein entferntes
HPC-System.</li>
<li>Verbinden Sie sich mit einem entfernten HPC-System.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="sichere-verbindungen">Sichere Verbindungen<a class="anchor" aria-label="anchor" href="#sichere-verbindungen"></a>
</h2>
<hr class="half-width">
<p>Der erste Schritt bei der Nutzung eines Clusters besteht darin, eine
Verbindung von unserem Laptop zum Cluster herzustellen. Wenn wir an
einem Computer sitzen (oder stehen oder ihn in der Hand oder am
Handgelenk halten), erwarten wir eine visuelle Anzeige mit Symbolen,
Widgets und vielleicht einigen Fenstern oder Anwendungen: eine
<em>grafische Benutzeroberfläche</em>, oder GUI. Da es sich bei
Computerclustern um entfernte Ressourcen handelt, mit denen wir uns über
langsame oder unregelmäßige Schnittstellen (insbesondere WiFi und VPNs)
verbinden, ist es praktischer, eine <em>Befehlszeilenschnittstelle</em>
(CLI) zu verwenden, um Befehle im Klartext zu senden. Wenn ein Befehl
eine Ausgabe zurückgibt, wird diese ebenfalls im Klartext ausgedruckt.
Die Befehle, die wir heute ausführen, werden kein Fenster öffnen, um die
Ergebnisse grafisch darzustellen.</p>
<p>Wenn Sie jemals die Windows-Eingabeaufforderung oder das
macOS-Terminal geöffnet haben, haben Sie eine CLI gesehen. Wenn Sie
bereits an den The Carpentries-Kursen über die UNIX-Shell oder
Versionskontrolle teilgenommen haben, haben Sie die CLI auf Ihrem
<em>lokalen Rechner</em> ausgiebig genutzt. Der einzige Sprung, den Sie
hier machen müssen, ist das Öffnen einer CLI auf einem <em>entfernten
Rechner</em>, wobei Sie einige Vorsichtsmaßnahmen treffen müssen, damit
andere Leute im Netzwerk die Befehle, die Sie ausführen, oder die
Ergebnisse, die der entfernte Rechner zurückschickt, nicht sehen (oder
ändern) können. Wir werden das Secure SHell-Protokoll (oder SSH)
verwenden, um eine verschlüsselte Netzwerkverbindung zwischen zwei
Rechnern zu öffnen, die es Ihnen ermöglicht, Text und Daten zu senden
und zu empfangen, ohne sich um neugierige Blicke sorgen zu müssen.</p>
<figure><img src="../fig/connect-to-remote.svg" max-width="50%" alt="Connect to cluster" class="figure mx-auto d-block"></figure><p>SSH-Clients sind in der Regel Kommandozeilenprogramme, bei denen Sie
als einziges Argument die Adresse des entfernten Rechners angeben
müssen. Wenn sich Ihr Benutzername auf dem entfernten System von dem
unterscheidet, den Sie lokal verwenden, müssen Sie auch diesen angeben.
Wenn Ihr SSH-Client über eine grafische Oberfläche verfügt, wie z. B.
PuTTY oder MobaXterm, geben Sie diese Argumente an, bevor Sie auf
“Verbinden” klicken Im Terminal schreiben Sie etwas wie
<code>ssh userName@hostname</code>, wobei das Argument wie eine
E-Mail-Adresse ist: das “@”-Symbol wird verwendet, um die persönliche ID
von der Adresse des entfernten Rechners zu trennen.</p>
<p>Bei der Anmeldung an einem Laptop, Tablet oder einem anderen
persönlichen Gerät sind normalerweise ein Benutzername, ein Kennwort
oder ein Muster erforderlich, um unbefugten Zugriff zu verhindern. In
diesen Situationen ist die Wahrscheinlichkeit, dass jemand anderes Ihr
Passwort abfängt, gering, da die Aufzeichnung Ihrer Tastenanschläge
einen böswilligen Exploit oder physischen Zugang erfordert. Bei Systemen
wie <code>login1</code>, auf denen ein SSH-Server läuft, kann sich jeder
im Netzwerk anmelden oder dies versuchen. Da Benutzernamen oft
öffentlich oder leicht zu erraten sind, ist Ihr Passwort oft das
schwächste Glied in der Sicherheitskette. Viele Cluster verbieten daher
die passwortbasierte Anmeldung und verlangen stattdessen, dass Sie ein
öffentlich-privates Schlüsselpaar mit einem viel stärkeren Passwort
erzeugen und konfigurieren. Auch wenn Ihr Cluster dies nicht
vorschreibt, wird der nächste Abschnitt Sie durch die Verwendung von
SSH-Schlüsseln und eines SSH-Agenten führen, um sowohl Ihre Sicherheit
zu erhöhen <em>als auch</em> die Anmeldung bei entfernten Systemen zu
erleichtern.</p>
<div class="section level3">
<h3 id="bessere-sicherheit-mit-ssh-schlüsseln">Bessere Sicherheit mit SSH-Schlüsseln<a class="anchor" aria-label="anchor" href="#bessere-sicherheit-mit-ssh-schl%C3%BCsseln"></a>
</h3>
<p>Die <a href="index.html#setup">Lesson Setup</a> enthält Anweisungen für die
Installation einer Shell-Anwendung mit SSH. Falls Sie dies noch nicht
getan haben, öffnen Sie bitte diese Shell-Anwendung mit einer
Unix-ähnlichen Kommandozeilenschnittstelle auf Ihrem System.</p>
<p>SSH-Schlüssel sind eine alternative Methode zur Authentifizierung, um
Zugang zu entfernten Computersystemen zu erhalten. Sie können auch zur
Authentifizierung bei der Übertragung von Dateien oder für den Zugriff
auf entfernte Versionskontrollsysteme (wie <a href="https://docs.github.com/en/authentication/connecting-to-github-with-ssh" class="external-link">GitHub</a>)
verwendet werden. In diesem Abschnitt werden Sie ein Paar SSH-Schlüssel
erstellen:</p>
<ul>
<li>ein privater Schlüssel, den Sie auf Ihrem eigenen Computer
aufbewahren, und</li>
<li>ein öffentlicher Schlüssel, der auf jedem entfernten System
platziert werden kann, auf das Sie zugreifen wollen.</li>
</ul>
<div id="private-schlüssel-sind-ihr-sicherer-digitaler-reisepass" class="callout caution">
<div class="callout-square">
<i class="callout-icon" data-feather="alert-triangle"></i>
</div>
<div id="private-schlüssel-sind-ihr-sicherer-digitaler-reisepass" class="callout-inner">
<h3 class="callout-title">Private Schlüssel sind Ihr sicherer digitaler Reisepass</h3>
<div class="callout-content">
<p>Ein privater Schlüssel, der für jeden außer Ihnen sichtbar ist,
sollte als kompromittiert betrachtet werden und muss vernichtet werden.
Dazu gehören unzulässige Rechte für das Verzeichnis, in dem er (oder
eine Kopie) gespeichert ist, das Durchqueren eines nicht sicheren
(verschlüsselten) Netzwerks, der Anhang einer unverschlüsselten E-Mail
und sogar die Anzeige des Schlüssels in Ihrem Terminalfenster.</p>
<p>Schützen Sie diesen Schlüssel, als ob er Ihre Haustür aufschließen
würde. In vielerlei Hinsicht tut er das auch.</p>
</div>
</div>
</div>
<p>Unabhängig von der Software oder dem Betriebssystem, das Sie
verwenden, <em>bitte</em> wählen Sie ein starkes Passwort oder eine
Passphrase, um Ihren privaten SSH-Schlüssel zusätzlich zu schützen.</p>
<div id="überlegungen-zu-ssh-schlüsselpasswörtern" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="überlegungen-zu-ssh-schlüsselpasswörtern" class="callout-inner">
<h3 class="callout-title">Überlegungen zu SSH-Schlüsselpasswörtern</h3>
<div class="callout-content">
<p>Wenn Sie dazu aufgefordert werden, geben Sie ein sicheres Passwort
ein, das Sie sich merken können. Hierfür gibt es zwei gängige
Ansätze:</p>
<ol style="list-style-type: decimal">
<li>Erstellen Sie eine einprägsame Passphrase mit einigen
Interpunktionszeichen und Buchstaben-Zahlen-Ersetzungen, 32 Zeichen oder
länger. Straßenadressen eignen sich gut; seien Sie jedoch vorsichtig mit
Social-Engineering- oder Public-Records-Angriffen.</li>
<li>Verwenden Sie einen Passwort-Manager und seinen eingebauten
Passwort-Generator mit allen Zeichenklassen, 25 Zeichen oder länger. <a href="https://keepass.info" class="external-link">KeePass</a> und <a href="https://bitwarden.com" class="external-link">BitWarden</a> sind zwei gute Optionen.</li>
<li>Nichts ist <em>weniger</em> sicher als ein privater Schlüssel ohne
Passwort. Wenn Sie die Passworteingabe versehentlich übersprungen haben,
gehen Sie zurück und erzeugen Sie ein neues Schlüsselpaar <em>mit</em>
einem starken Passwort.</li>
</ol>
</div>
</div>
</div>
<div class="section level4">
<h4 id="ssh-schlüssel-auf-linux-mac-mobaxterm-und-windows-subsystem-für-linux">SSH-Schlüssel auf Linux, Mac, MobaXterm und Windows Subsystem für
Linux<a class="anchor" aria-label="anchor" href="#ssh-schl%C3%BCssel-auf-linux-mac-mobaxterm-und-windows-subsystem-f%C3%BCr-linux"></a>
</h4>
<p>Sobald Sie ein Terminal geöffnet haben, prüfen Sie, ob bereits
SSH-Schlüssel und Dateinamen vorhanden sind, da vorhandene SSH-Schlüssel
überschrieben werden.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">[you@laptop:~]$</span> ls ~/.ssh/</span></code></pre>
</div>
<p>Wenn <code>~/.ssh/id_ed25519</code> bereits existiert, müssen Sie
einen anderen Namen für das neue Schlüsselpaar angeben.</p>
<p>Erzeugen Sie ein neues Schlüsselpaar aus öffentlichem und privatem
Schlüssel mit dem folgenden Befehl, der einen stärkeren Schlüssel als
den Standardschlüssel <code>ssh-keygen</code> erzeugt, indem Sie diese
Flags aufrufen:</p>
<ul>
<li>
<code>-a</code> (Standardwert ist 16): Anzahl der Runden der
Passphrasenableitung; erhöhen Sie diese, um Brute-Force-Angriffe zu
verlangsamen.</li>
<li>
<code>-t</code> (Standard ist <a href="https://en.wikipedia.org/wiki/RSA_(cryptosystem)" class="external-link">rsa</a>): Geben
Sie den “Typ” oder kryptographischen Algorithmus an.<code>ed25519</code>
spezifiziert <a href="https://en.wikipedia.org/wiki/EdDSA" class="external-link">EdDSA</a> mit
einem 256-Bit-Schlüssel; er ist schneller als RSA mit einer
vergleichbaren Stärke.</li>
<li>
<code>-f</code> (Standard ist /home/user/.ssh/id_algorithm):
Dateiname zum Speichern Ihres privaten Schlüssels. Der Dateiname des
öffentlichen Schlüssels ist identisch, mit der Erweiterung
<code>.pub</code>.</li>
</ul>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="ex">[you@laptop:~]$</span> ssh-keygen <span class="at">-a</span> 100 <span class="at">-f</span> ~/.ssh/id_ed25519 <span class="at">-t</span> ed25519</span></code></pre>
</div>
<p>Wenn Sie dazu aufgefordert werden, geben Sie ein sicheres Passwort
ein, das die <a href="#considerations-for-ssh-key-passwords">obigen
Überlegungen berücksichtigt</a>. Beachten Sie, dass sich das Terminal
nicht zu ändern scheint, während Sie das Passwort eingeben: Das ist zu
Ihrer Sicherheit so gewollt. Sie werden aufgefordert, es noch einmal
einzugeben, also machen Sie sich nicht zu viele Gedanken über
Tippfehler.</p>
<p>Werfen Sie einen Blick in <code>~/.ssh</code> (verwenden Sie
<code>ls ~/.ssh</code>). Sie sollten zwei neue Dateien sehen:</p>
<ul>
<li>Ihr privater Schlüssel (<code>~/.ssh/id_ed25519</code>): <em>do not
share with anyone!</em>
</li>
<li>den gemeinsam nutzbaren öffentlichen Schlüssel
(<code>~/.ssh/id_ed25519.pub</code>): Wenn ein Systemadministrator nach
einem Schlüssel fragt, ist dies der Schlüssel, den Sie senden müssen. Es
ist auch sicher, ihn auf Websites wie GitHub hochzuladen: Er ist dafür
gedacht, gesehen zu werden.</li>
</ul>
<div id="verwenden-sie-rsa-für-ältere-systeme" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="verwenden-sie-rsa-für-ältere-systeme" class="callout-inner">
<h3 class="callout-title">Verwenden Sie RSA für ältere Systeme</h3>
<div class="callout-content">
<p>Wenn die Schlüsselerzeugung fehlgeschlagen ist, weil ed25519 nicht
verfügbar ist, versuchen Sie es mit dem älteren (aber immer noch starken
und vertrauenswürdigen) <a href="https://en.wikipedia.org/wiki/RSA_(cryptosystem)" class="external-link">RSA</a>
Kryptosystem. Prüfen Sie auch hier zunächst, ob ein Schlüssel vorhanden
ist:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">[you@laptop:~]$</span> ls ~/.ssh/</span></code></pre>
</div>
<p>Wenn <code>~/.ssh/id_rsa</code> bereits existiert, müssen Sie einen
anderen Namen für das neue Schlüsselpaar wählen. Erzeugen Sie es wie
oben, mit den folgenden zusätzlichen Flags:</p>
<ul>
<li>
<code>-b</code> legt die Anzahl der Bits des Schlüssels fest. Die
Vorgabe ist 2048. EdDSA verwendet eine feste Schlüssellänge, so dass
dieses Flag keine Auswirkung haben würde.</li>
<li>
<code>-o</code> (kein Standard): Verwenden Sie das
OpenSSH-Schlüsselformat, anstatt PEM.</li>
</ul>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="ex">[you@laptop:~]$</span> ssh-keygen <span class="at">-a</span> 100 <span class="at">-b</span> 4096 <span class="at">-f</span> ~/.ssh/id_rsa <span class="at">-o</span> <span class="at">-t</span> rsa</span></code></pre>
</div>
<p>Wenn Sie dazu aufgefordert werden, geben Sie ein sicheres Passwort
ein und beachten Sie dabei die <a href="#considerations-for-ssh-key-passwords">oben genannten
Überlegungen</a>.</p>
<p>Werfen Sie einen Blick in <code>~/.ssh</code> (verwenden Sie
<code>ls ~/.ssh</code>). Sie sollten zwei neue Dateien sehen:</p>
<ul>
<li>Ihr privater Schlüssel (<code>~/.ssh/id_rsa</code>): <em>do not
share with anyone!</em>
</li>
<li>den gemeinsam nutzbaren öffentlichen Schlüssel
(<code>~/.ssh/id_rsa.pub</code>): Wenn ein Systemadministrator nach
einem Schlüssel fragt, ist dies der Schlüssel, den Sie senden müssen. Es
ist auch sicher, ihn auf Websites wie GitHub hochzuladen: Er ist dafür
gedacht, gesehen zu werden.</li>
</ul>
</div>
</div>
</div>
</div>
<div class="section level4">
<h4 id="ssh-schlüssel-auf-putty">SSH-Schlüssel auf PuTTY<a class="anchor" aria-label="anchor" href="#ssh-schl%C3%BCssel-auf-putty"></a>
</h4>
<p>Wenn Sie PuTTY unter Windows verwenden, laden Sie
<code>puttygen</code> herunter und verwenden Sie es, um das
Schlüsselpaar zu erzeugen. Siehe die <a href="https://tartarus.org/~simon/putty-prerel-snapshots/htmldoc/Chapter8.html#pubkey-puttygen" class="external-link">PuTTY-Dokumentation</a>
für Details.</p>
<ul>
<li>Wählen Sie <code>EdDSA</code> als Schlüsseltyp.</li>
<li>Wählen Sie <code>255</code> als Schlüsselgröße oder -stärke.</li>
<li>Klicken Sie auf die Schaltfläche “Generate”.</li>
<li>Sie müssen keinen Kommentar eingeben.</li>
<li>Wenn Sie dazu aufgefordert werden, geben Sie ein sicheres Passwort
ein und beachten Sie dabei die <a href="#considerations-for-ssh-key-passwords">oben genannten
Überlegungen</a>.</li>
<li>Speichern Sie die Schlüssel in einem Ordner, den kein anderer
Benutzer des Systems lesen kann.</li>
</ul>
<p>Werfen Sie einen Blick in den von Ihnen angegebenen Ordner. Sie
sollten zwei neue Dateien sehen:</p>
<ul>
<li>Ihr privater Schlüssel (<code>id_ed25519</code>): <em>do not share
with anyone!</em>
</li>
<li>den gemeinsam nutzbaren öffentlichen Schlüssel
(<code>id_ed25519.pub</code>): Wenn ein Systemadministrator nach einem
Schlüssel fragt, ist dies der Schlüssel, den Sie senden müssen. Es ist
auch sicher, ihn auf Websites wie GitHub hochzuladen: Er ist dafür
gedacht, gesehen zu werden.</li>
</ul>
</div>
</div>
<div class="section level3">
<h3 id="ssh-agent-für-einfachere-schlüsselverwaltung">SSH Agent für einfachere Schlüsselverwaltung<a class="anchor" aria-label="anchor" href="#ssh-agent-f%C3%BCr-einfachere-schl%C3%BCsselverwaltung"></a>
</h3>
<p>Ein SSH-Schlüssel ist nur so stark wie das Passwort, mit dem er
entsperrt wird. Andererseits ist es mühsam, jedes Mal ein komplexes
Passwort einzugeben, wenn man sich mit einem Rechner verbindet, und wird
schnell langweilig. An dieser Stelle kommt der <a href="https://www.ssh.com/academy/ssh/agent" class="external-link">SSH-Agent</a> ins
Spiel.</p>
<p>Wenn Sie einen SSH-Agenten verwenden, können Sie Ihr Passwort für den
privaten Schlüssel einmal eingeben und dann den Agenten veranlassen, es
für eine bestimmte Anzahl von Stunden oder bis zu Ihrer Abmeldung zu
speichern. Solange kein böswilliger Akteur physischen Zugang zu Ihrem
Rechner hat, ist das Kennwort auf diese Weise sicher, und Sie müssen das
Kennwort nicht mehrmals eingeben.</p>
<p>Merken Sie sich Ihr Passwort, denn sobald es im Agenten abläuft,
müssen Sie es erneut eingeben.</p>
<div class="section level4">
<h4 id="ssh-agenten-auf-linux-macos-und-windows">SSH-Agenten auf Linux, macOS und Windows<a class="anchor" aria-label="anchor" href="#ssh-agenten-auf-linux-macos-und-windows"></a>
</h4>
<p>Öffnen Sie Ihr Terminalprogramm und prüfen Sie, ob ein Agent
läuft:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="ex">[you@laptop:~]$</span> ssh-add <span class="at">-l</span></span></code></pre>
</div>
<ul>
<li>
<p>Wenn Sie eine Fehlermeldung wie diese erhalten,</p>
<div class="codewrapper">
<h3 class="code-label">FEHLER<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>Error connecting to agent: No such file or directory</code></pre>
</div>
<p>… dann müssen Sie den Agenten wie folgt starten:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="ex">[you@laptop:~]$</span> eval <span class="va">$(</span><span class="fu">ssh-agent</span><span class="va">)</span></span></code></pre>
</div>
<div id="callout3" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Was ist in einem
<code>$(...)</code>?</h3>
<div class="callout-content">
<p>Die Syntax dieses SSH-Agent-Befehls ist ungewöhnlich, basierend auf
dem, was wir in der UNIX-Shell-Lektion gesehen haben. Das liegt daran,
dass der <code>ssh-agent</code>-Befehl eine Verbindung öffnet, auf die
nur Sie Zugriff haben, und eine Reihe von Shell-Befehlen ausgibt, die
verwendet werden können, um sie zu erreichen - aber <em>sie werden nicht
ausgeführt!</em></p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="ex">[you@laptop:~]$</span> ssh-agent</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>SSH_AUTH_SOCK=/tmp/ssh-Zvvga2Y8kQZN/agent.131521;
export SSH_AUTH_SOCK;
SSH_AGENT_PID=131522;
export SSH_AGENT_PID;
echo Agent pid 131522;</code></pre>
</div>
<p>Der Befehl <code>eval</code> interpretiert diese Textausgabe als
Befehle und ermöglicht Ihnen den Zugriff auf die gerade erstellte
SSH-Agent-Verbindung.</p>
<p>Sie könnten jede Zeile der <code>ssh-agent</code>-Ausgabe selbst
ausführen und das gleiche Ergebnis erzielen. Die Verwendung von
<code>eval</code> macht dies nur einfacher.</p>
</div>
</div>
</div>
</li>
<li><p>Andernfalls läuft Ihr Agent bereits: Lassen Sie ihn in
Ruhe.</p></li>
</ul>
<p>Fügen Sie Ihren Schlüssel zum Agenten hinzu, wobei die Sitzung nach 8
Stunden abläuft:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="ex">[you@laptop:~]$</span> ssh-add <span class="at">-t</span> 8h ~/.ssh/id_ed25519</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Enter passphrase for .ssh/id_ed25519:
Identity added: .ssh/id_ed25519
Lifetime set to 86400 seconds</code></pre>
</div>
<p>Während der Dauer (8 Stunden) wird der SSH-Agent bei jeder Verwendung
dieses Schlüssels den Schlüssel für Sie bereitstellen, ohne dass Sie
einen einzigen Tastendruck eingeben müssen.</p>
</div>
<div class="section level4">
<h4 id="ssh-agent-auf-putty">SSH-Agent auf PuTTY<a class="anchor" aria-label="anchor" href="#ssh-agent-auf-putty"></a>
</h4>
<p>Wenn Sie PuTTY unter Windows verwenden, laden Sie
<code>pageant</code> herunter und verwenden Sie es als SSH-Agent. Siehe
die <a href="https://tartarus.org/~simon/putty-prerel-snapshots/htmldoc/Chapter9.html#pageant" class="external-link">PuTTY-Dokumentation</a>.</p>
</div>
</div>
<div class="section level3">
<h3 id="übertragen-sie-ihren-öffentlichen-schlüssel">Übertragen Sie Ihren öffentlichen Schlüssel<a class="anchor" aria-label="anchor" href="#%C3%BCbertragen-sie-ihren-%C3%B6ffentlichen-schl%C3%BCssel"></a>
</h3>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="ex">[you@laptop:~]$</span> scp ~/.ssh/id_ed25519.pub yourUsername@cluster.hpc-carpentry.org:~/</span></code></pre>
</div>
</div>
</section><section><h2 class="section-heading" id="einloggen-in-den-cluster">Einloggen in den Cluster<a class="anchor" aria-label="anchor" href="#einloggen-in-den-cluster"></a>
</h2>
<hr class="half-width">
<p>Öffnen Sie Ihr Terminal oder Ihren grafischen SSH-Client und melden
Sie sich beim Cluster an. Ersetzen Sie <code>yourUsername</code> durch
Ihren Benutzernamen oder den von den Lehrkräften angegebenen.</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="ex">[you@laptop:~]$</span> ssh yourUsername@cluster.hpc-carpentry.org</span></code></pre>
</div>
<p>Sie werden möglicherweise nach Ihrem Passwort gefragt. Achtung: Die
Zeichen, die Sie nach der Passwortabfrage eingeben, werden nicht auf dem
Bildschirm angezeigt. Die normale Ausgabe wird fortgesetzt, sobald Sie
<code>Enter</code> drücken.</p>
<p>Sie haben vielleicht bemerkt, dass sich die Eingabeaufforderung
geändert hat, als Sie sich mit dem Terminal beim entfernten System
angemeldet haben (wenn Sie sich mit PuTTY angemeldet haben, gilt dies
nicht, da PuTTY kein lokales Terminal anbietet). Diese Änderung ist
wichtig, weil sie Ihnen helfen kann, zu unterscheiden, auf welchem
System die von Ihnen eingegebenen Befehle ausgeführt werden, wenn Sie
sie an das Terminal übergeben. Diese Änderung ist auch eine kleine
Komplikation, mit der wir uns im Laufe des Workshops auseinandersetzen
müssen. Was genau als Eingabeaufforderung (die üblicherweise mit
<code>$</code> endet) im Terminal angezeigt wird, wenn es mit dem
lokalen System und dem entfernten System verbunden ist, wird
normalerweise für jeden Benutzer unterschiedlich sein. Wir müssen aber
trotzdem angeben, auf welchem System wir Befehle eingeben, also werden
wir die folgende Konvention anwenden:</p>
<ul>
<li>
<code>[you@laptop:~]$</code>, wenn der Befehl auf einem Terminal
eingegeben werden soll, das mit Ihrem lokalen Computer verbunden
ist</li>
<li>
<code>[yourUsername@login1 ~]</code>, wenn der Befehl auf einem
Terminal eingegeben werden soll, das mit dem entfernten System verbunden
ist</li>
<li>
<code>$</code>, wenn es wirklich keine Rolle spielt, mit welchem
System das Terminal verbunden ist.</li>
</ul></section><section><h2 class="section-heading" id="schauen-sie-sich-in-ihrem-remote-home-um">Schauen Sie sich in Ihrem Remote Home um<a class="anchor" aria-label="anchor" href="#schauen-sie-sich-in-ihrem-remote-home-um"></a>
</h2>
<hr class="half-width">
<p>Sehr oft sind viele Benutzer versucht, sich eine
Hochleistungsrechner-Installation als eine riesige, magische Maschine
vorzustellen. Manchmal nehmen sie an, dass der Computer, an dem sie sich
angemeldet haben, der gesamte Computer-Cluster ist. Was passiert also
wirklich? Bei welchem Computer haben wir uns angemeldet? Der Name des
aktuellen Computers, auf dem wir angemeldet sind, kann mit dem Befehl
<code>hostname</code> überprüft werden. (Vielleicht bemerken Sie auch,
dass der aktuelle Hostname auch Teil unserer Eingabeaufforderung
ist)</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] hostname</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">login1</span></span></code></pre>
</div>
<p>Wir befinden uns also definitiv auf dem entfernten Rechner. Als
Nächstes wollen wir herausfinden, wo wir uns befinden, indem wir
<code>pwd</code> ausführen, um das <strong>w</strong>Arbeitsverzeichnis
<strong>d</strong>auszugeben.</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] pwd</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>/home/yourUsername</code></pre>
</div>
<p>Großartig, wir wissen, wo wir sind! Schauen wir mal, was sich in
unserem aktuellen Verzeichnis befindet:</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] ls</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">id_ed25519.pub</span></span></code></pre>
</div>
<p>Die Systemadministratoren haben möglicherweise Ihr Home-Verzeichnis
mit einigen hilfreichen Dateien, Ordnern und Verknüpfungen (Shortcuts)
zu für Sie reserviertem Speicherplatz auf anderen Dateisystemen
konfiguriert. Wenn dies nicht der Fall ist, kann Ihr Home-Verzeichnis
leer erscheinen. Um dies zu überprüfen, nehmen Sie versteckte Dateien in
Ihre Verzeichnisliste auf:</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] ls <span class="at">-a</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  .            .bashrc           id_ed25519.pub
  ..           .ssh</code></pre>
</div>
<p>In der ersten Spalte ist <code>.</code> ein Verweis auf das aktuelle
Verzeichnis und <code>..</code> ein Verweis auf dessen übergeordnetes
Verzeichnis (<code>/home</code>). Sie können die anderen Dateien oder
ähnliche Dateien sehen, müssen es aber nicht: <code>.bashrc</code> ist
eine Shell-Konfigurationsdatei, die Sie mit Ihren Präferenzen bearbeiten
können; und <code>.ssh</code> ist ein Verzeichnis, das SSH-Schlüssel und
eine Aufzeichnung der autorisierten Verbindungen speichert.</p>
<div class="section level3">
<h3 id="installieren-sie-ihren-ssh-schlüssel">Installieren Sie Ihren SSH-Schlüssel<a class="anchor" aria-label="anchor" href="#installieren-sie-ihren-ssh-schl%C3%BCssel"></a>
</h3>
<div id="there-may-be-a-better-way" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="there-may-be-a-better-way" class="callout-inner">
<h3 class="callout-title">There May Be a Better Way</h3>
<div class="callout-content">
<p>Die Richtlinien und Praktiken für den Umgang mit SSH-Schlüsseln
variieren von HPC-Cluster zu HPC-Cluster: Befolgen Sie die von den
Cluster-Administratoren oder der Dokumentation bereitgestellten
Hinweise. Insbesondere wenn es ein Online-Portal für die Verwaltung von
SSH-Schlüsseln gibt, verwenden Sie dieses anstelle der hier
beschriebenen Anweisungen.</p>
</div>
</div>
</div>
<p>Wenn Sie Ihren öffentlichen SSH-Schlüssel mit <code>scp</code>
übertragen haben, sollten Sie <code>id_ed25519.pub</code> in Ihrem
Home-Verzeichnis sehen. Um diesen Schlüssel zu “installieren”, muss er
in einer Datei namens <code>authorized_keys</code> unter dem Ordner
<code>.ssh</code> aufgeführt sein.</p>
<p>Wenn der Ordner <code>.ssh</code> oben nicht aufgeführt wurde, dann
existiert er noch nicht: Erstellen Sie ihn.</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] mkdir ~/.ssh</span></code></pre>
</div>
<p>Verwenden Sie nun <code>cat</code>, um Ihren öffentlichen Schlüssel
zu drucken, aber leiten Sie die Ausgabe um, indem Sie sie an die Datei
<code>authorized_keys</code> anhängen:</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] cat ~/id_ed25519.pub <span class="op">&gt;&gt;</span> ~/.ssh/authorized_keys</span></code></pre>
</div>
<p>Das war’s! Trennen Sie die Verbindung und versuchen Sie dann, sich
wieder bei der Gegenstelle anzumelden: Wenn Ihr Schlüssel und Ihr Agent
korrekt konfiguriert wurden, sollten Sie nicht nach dem Passwort für
Ihren SSH-Schlüssel gefragt werden.</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] logout</span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="ex">[you@laptop:~]$</span> ssh yourUsername@cluster.hpc-carpentry.org</span></code></pre>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Hauptpunkte</h3>
<div class="callout-content">
<ul>
<li>Ein HPC-System ist eine Gruppe von vernetzten Maschinen.</li>
<li>HPC-Systeme bieten typischerweise Login-Knoten und eine Reihe von
Worker-Knoten.</li>
<li>Die Ressourcen auf den unabhängigen (Arbeits-)Knoten können in
Umfang und Art variieren (Menge des Arbeitsspeichers,
Prozessorarchitektur, Verfügbarkeit von über das Netzwerk eingebundenen
Dateisystemen usw.).</li>
<li>Dateien, die auf einem Knoten gespeichert sind, sind auf allen
Knoten verfügbar.</li>
</ul>
</div>
</div>
</div>
</div>
</section></section><section id="aio-12-cluster"><p>Content from <a href="12-cluster.html">Arbeiten auf einem entfernten HPC-System</a></p>
<hr>
<p>Zuletzt aktualisiert am 2025-08-04 |

        <a href="https://github.com/ocaisa/probable-pancake/edit/main/episodes/12-cluster.Rmd" class="external-link">Diese Seite bearbeiten <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Geschätzte Zeit: <i aria-hidden="true" data-feather="clock"></i> 35 Minuten</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Alle Lösungen anzeigen " data-collapse="Alle Lösungen ausblenden "> Alle Lösungen anzeigen <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Übersicht</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Fragen</h3>
<ul>
<li>“Was ist ein HPC-System?”</li>
<li>“Wie funktioniert ein HPC-System?”</li>
<li>“Wie melde ich mich bei einem entfernten HPC-System an?”</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Ziele</h3>
<ul>
<li>“Verbinden Sie sich mit einem entfernten HPC-System.”</li>
<li>“Verstehen Sie die allgemeine HPC-Systemarchitektur.”</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="was-ist-ein-hpc-system">Was ist ein HPC-System?<a class="anchor" aria-label="anchor" href="#was-ist-ein-hpc-system"></a>
</h2>
<hr class="half-width">
<p>Die Begriffe “Cloud”, “Cluster” und “High-Performance Computing” oder
“HPC” werden in verschiedenen Zusammenhängen und mit unterschiedlichen
Bedeutungen verwendet. Was bedeuten sie also? Und was noch wichtiger
ist: Wie verwenden wir sie bei unserer Arbeit?</p>
<p>Die <em>Wolke</em> ist ein allgemeiner Begriff, der sich auf
Computerressourcen bezieht, die a) den Benutzern auf Anfrage oder nach
Bedarf <em>zur Verfügung gestellt</em> werden und b) reale oder
<em>virtuelle</em> Ressourcen darstellen, die sich überall auf der Erde
befinden können. So kann beispielsweise ein großes Unternehmen mit
Rechenressourcen in Brasilien, Simbabwe und Japan diese Ressourcen als
seine eigene <em>interne</em> Cloud verwalten, und dasselbe Unternehmen
kann auch kommerzielle Cloud-Ressourcen von Amazon oder Google nutzen.
Cloud-Ressourcen können sich auf Maschinen beziehen, die relativ
einfache Aufgaben ausführen, wie z. B. die Bereitstellung von Websites,
die Bereitstellung von gemeinsamem Speicherplatz, die Bereitstellung von
Webdiensten (z. B. E-Mail oder Social-Media-Plattformen) sowie
traditionellere rechenintensive Aufgaben wie die Ausführung einer
Simulation.</p>
<p>Der Begriff <em>HPC-System</em> beschreibt dagegen eine eigenständige
Ressource für rechenintensive Arbeitslasten. Sie bestehen in der Regel
aus einer Vielzahl integrierter Verarbeitungs- und Speicherelemente, die
darauf ausgelegt sind, große Datenmengen und/oder eine große Anzahl von
Gleitkommaoperationen (<a href="https://en.wikipedia.org/wiki/FLOPS" class="external-link">FLOPS</a>) mit der
höchstmöglichen Leistung zu verarbeiten. So sind zum Beispiel alle
Maschinen auf der <a href="https://www.top500.org" class="external-link">Top-500</a> Liste
HPC-Systeme. Um diesen Anforderungen gerecht zu werden, muss eine
HPC-Ressource an einem bestimmten, festen Standort vorhanden sein:
Netzwerkkabel können nur bis zu einem bestimmten Punkt verlegt werden,
und elektrische und optische Signale können nur mit einer bestimmten
Geschwindigkeit übertragen werden.</p>
<p>Der Begriff “Cluster” wird häufig für kleine bis mittelgroße
HPC-Ressourcen verwendet, die weniger beeindruckend sind als die
[Top-500] (<a href="https://www.top500.org" class="external-link uri">https://www.top500.org</a>). Cluster werden oft in
Rechenzentren unterhalten, die mehrere solcher Systeme unterstützen, die
alle ein gemeinsames Netzwerk und einen gemeinsamen Speicher nutzen, um
gemeinsame rechenintensive Aufgaben zu unterstützen.</p>
</section><section><h2 class="section-heading" id="angemeldet">Angemeldet<a class="anchor" aria-label="anchor" href="#angemeldet"></a>
</h2>
<hr class="half-width">
<p>Der erste Schritt bei der Nutzung eines Clusters besteht darin, eine
Verbindung zwischen unserem Laptop und dem Cluster herzustellen. Wenn
wir an einem Computer sitzen (oder stehen, oder ihn in der Hand oder am
Handgelenk halten), erwarten wir eine visuelle Anzeige mit Symbolen,
Widgets und vielleicht einigen Fenstern oder Anwendungen: eine grafische
Benutzeroberfläche (GUI). Da es sich bei Computerclustern um entfernte
Ressourcen handelt, mit denen wir uns über oft langsame oder verzögerte
Schnittstellen (insbesondere WiFi und VPNs) verbinden, ist es
praktischer, eine Befehlszeilenschnittstelle (CLI) zu verwenden, bei der
Befehle und Ergebnisse nur über Text übertragen werden. Alles, was nicht
Text ist (z. B. Bilder), muss auf die Festplatte geschrieben und mit
einem separaten Programm geöffnet werden.</p>
<p>Wenn Sie jemals die Windows-Eingabeaufforderung oder das
macOS-Terminal geöffnet haben, haben Sie ein CLI gesehen. Wenn Sie
bereits an den The Carpentries-Kursen über die UNIX-Shell oder
Versionskontrolle teilgenommen haben, haben Sie die CLI auf Ihrem
lokalen Rechner ziemlich ausgiebig genutzt. Der einzige Schritt, der
hier gemacht werden muss, ist das Öffnen einer CLI auf einem
<em>entfernten</em> Rechner, wobei einige Vorsichtsmaßnahmen getroffen
werden müssen, damit andere Leute im Netzwerk die Befehle, die Sie
ausführen, oder die Ergebnisse, die der entfernte Rechner zurücksendet,
nicht sehen (oder ändern) können. Wir werden das Secure SHell-Protokoll
(oder SSH) verwenden, um eine verschlüsselte Netzwerkverbindung zwischen
zwei Rechnern herzustellen, die es Ihnen ermöglicht, Text und Daten zu
senden und zu empfangen, ohne sich um neugierige Blicke sorgen zu
müssen.</p>
<figure><img src="../fig/connect-to-remote.svg" alt-text="Connect to cluster" alt="Connect to cluster" class="figure mx-auto d-block"><div class="figcaption">Connect to cluster</div>
</figure><p>Stellen Sie sicher, dass Sie einen SSH-Client auf Ihrem Laptop
installiert haben. Lesen Sie den Abschnitt <a href="index.html">setup</a> für weitere Details. SSH-Clients sind in der
Regel Befehlszeilen-Tools, bei denen Sie als einziges Argument die
Adresse des entfernten Rechners angeben müssen. Wenn sich Ihr
Benutzername auf dem entfernten System von dem unterscheidet, den Sie
lokal verwenden, müssen Sie auch diesen angeben. Wenn Ihr SSH-Client
über eine grafische Oberfläche verfügt, wie z. B. PuTTY oder MobaXterm,
geben Sie diese Argumente an, bevor Sie auf “Verbinden” klicken Im
Terminal schreiben Sie etwa <code>ssh userName@hostname</code>, wobei
das “@”-Symbol verwendet wird, um die beiden Teile eines einzelnen
Arguments zu trennen.</p>
<p>Öffnen Sie Ihr Terminal oder Ihren grafischen SSH-Client und melden
Sie sich mit Ihrem Benutzernamen und dem entfernten Computer, den Sie
von der Außenwelt aus erreichen können, cluster.hpc-carpentry.org, am
Cluster an.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">[you@laptop:~]$</span> ssh yourUsername@cluster.hpc-carpentry.org</span></code></pre>
</div>
<p>Denken Sie daran, <code>yourUsername</code> durch Ihren Benutzernamen
oder den von den Dozenten angegebenen zu ersetzen. Möglicherweise werden
Sie nach Ihrem Passwort gefragt. Achtung: Die Zeichen, die Sie nach der
Passwortabfrage eingeben, werden nicht auf dem Bildschirm angezeigt. Die
normale Ausgabe wird fortgesetzt, sobald Sie <code>Enter</code>
drücken.</p>
</section><section><h2 class="section-heading" id="wo-sind-wir">Wo sind wir?<a class="anchor" aria-label="anchor" href="#wo-sind-wir"></a>
</h2>
<hr class="half-width">
<p>Sehr oft sind viele Benutzer versucht, sich eine
Hochleistungsrechner-Installation als eine riesige, magische Maschine
vorzustellen. Manchmal gehen sie davon aus, dass der Computer, an dem
sie sich angemeldet haben, der gesamte Computer-Cluster ist. Was
passiert also wirklich? Bei welchem Computer haben wir uns angemeldet?
Der Name des aktuellen Computers, auf dem wir angemeldet sind, kann mit
dem Befehl <code>hostname</code> überprüft werden. (Vielleicht bemerken
Sie auch, dass der aktuelle Hostname auch Teil unserer
Eingabeaufforderung ist)</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] hostname</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">login1</span></span></code></pre>
</div>
<div id="was-befindet-sich-in-ihrem-heimatverzeichnis" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="was-befindet-sich-in-ihrem-heimatverzeichnis" class="callout-inner">
<h3 class="callout-title">Was befindet sich in Ihrem Heimatverzeichnis?</h3>
<div class="callout-content">
<p>Die Systemadministratoren haben Ihr Home-Verzeichnis möglicherweise
mit einigen hilfreichen Dateien, Ordnern und Verknüpfungen (Shortcuts)
zu für Sie reserviertem Speicherplatz auf anderen Dateisystemen
konfiguriert. Schauen Sie sich um und sehen Sie, was Sie finden können.
<em>Tipp:</em> Die Shell-Befehle <code>pwd</code> und <code>ls</code>
können dabei hilfreich sein. Der Inhalt des Heimatverzeichnisses
variiert von Benutzer zu Benutzer. Bitte besprechen Sie alle
Unterschiede, die Sie feststellen, mit Ihren Nachbarn.</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Es ist ein schöner Tag in der Nachbarschaft </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<p>Die tiefste Ebene sollte sich unterscheiden:
<code>yourUsername</code> ist eindeutig. Gibt es Unterschiede im Pfad
auf höheren Ebenen?</p>
<p>Wenn Sie beide leere Verzeichnisse haben, werden sie identisch
aussehen. Wenn Sie oder Ihr Nachbar das System vorher benutzt haben,
kann es Unterschiede geben. Woran arbeiten Sie?</p>
<p>Verwenden Sie <code>pwd</code>, um <strong>p</strong>den
<strong>w</strong>arbeitenden <strong>d</strong>Verzeichnispfad zu
drucken:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] pwd</span></code></pre>
</div>
<p>Sie können <code>ls</code> ausführen, um den Inhalt des
Verzeichnisses zu <strong>l</strong>i<strong>s</strong>t, obwohl es
möglich ist, dass nichts angezeigt wird (wenn keine Dateien
bereitgestellt wurden). Um sicher zu gehen, benutzen Sie das
<code>-a</code> Flag, um auch versteckte Dateien anzuzeigen.</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] ls <span class="at">-a</span></span></code></pre>
</div>
<p>Dies zeigt zumindest das aktuelle Verzeichnis als <code>.</code> und
das übergeordnete Verzeichnis als <code>..</code> an.</p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="knoten">Knoten<a class="anchor" aria-label="anchor" href="#knoten"></a>
</h2>
<hr class="half-width">
<p>Die einzelnen Computer, aus denen ein Cluster besteht, werden in der
Regel <em>Knoten</em> genannt (obwohl man sie auch <em>Server</em>,
<em>Rechner</em> und <em>Maschinen</em> nennen kann). In einem Cluster
gibt es verschiedene Arten von Knoten für verschiedene Arten von
Aufgaben. Der Knoten, an dem Sie sich gerade befinden, wird
<em>Kopfknoten</em>, <em>Anmeldeknoten</em>, <em>Landeplatz</em> oder
<em>Übermittlungsknoten</em> genannt. Ein Anmeldeknoten dient als
Zugangspunkt zum Cluster.</p>
<p>Als Gateway ist er gut geeignet, um Dateien hoch- und
herunterzuladen, Software einzurichten und schnelle Tests durchzuführen.
Im Allgemeinen sollte der Login-Knoten nicht für zeit- oder
ressourcenintensive Aufgaben verwendet werden. Sie sollten darauf achten
und sich bei den Betreibern Ihrer Website oder in der Dokumentation
darüber informieren, was erlaubt ist und was nicht. In diesen Lektionen
werden wir es vermeiden, Aufträge auf dem Hauptknoten auszuführen.</p>
<div id="dedizierte-transferknoten" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="dedizierte-transferknoten" class="callout-inner">
<h3 class="callout-title">Dedizierte Transferknoten</h3>
<div class="callout-content">
<p>Wenn Sie größere Datenmengen in oder aus dem Cluster übertragen
wollen, bieten einige Systeme dedizierte Knoten nur für Datentransfers
an. Die Motivation dafür liegt darin, dass größere Datentransfers den
Betrieb des Login-Knotens für alle anderen nicht behindern sollen.
Erkundigen Sie sich in der Dokumentation Ihres Clusters oder bei dessen
Support-Team, ob ein solcher Transferknoten verfügbar ist. Als
Faustregel gilt, dass alle Übertragungen eines Volumens größer als 500
MB bis 1 GB als groß zu betrachten sind. Diese Zahlen können sich jedoch
ändern, z.B. abhängig von der Netzwerkverbindung von Ihnen und Ihrem
Cluster oder anderen Faktoren.</p>
</div>
</div>
</div>
<p>Die eigentliche Arbeit in einem Cluster wird von den
<em>Arbeiterknoten</em> (oder <em>Rechenknoten</em>) <em>erledigt</em>.
Arbeiterknoten gibt es in vielen Formen und Größen, aber im Allgemeinen
sind sie für lange oder schwierige Aufgaben bestimmt, die viele
Rechenressourcen erfordern.</p>
<p>Die gesamte Interaktion mit den Arbeiterknoten wird von einer
speziellen Software namens Scheduler abgewickelt (der Scheduler, der in
dieser Lektion verwendet wird, heißt <strong>Slurm</strong>). Wir werden
in der nächsten Lektion mehr darüber lernen, wie man den Scheduler
benutzt, um Jobs zu übermitteln, aber für den Moment kann er uns auch
mehr Informationen über die Arbeiterknoten liefern.</p>
<p>Zum Beispiel können wir alle Arbeiterknoten anzeigen, indem wir den
Befehl <code>sinfo</code> ausführen.</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] sinfo</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>PARTITION          AVAIL  TIMELIMIT  NODES  STATE NODELIST
cpubase_bycore_b1*    up   infinite      4   idle node[1-2],smnode[1-2]
node                  up   infinite      2   idle node[1-2]
smnode                up   infinite      2   idle smnode[1-2]</code></pre>
</div>
<p>Es gibt auch spezialisierte Maschinen, die für die Verwaltung von
Plattenspeicher, Benutzerauthentifizierung und andere
infrastrukturbezogene Aufgaben verwendet werden. Obwohl wir uns
normalerweise nicht direkt an diesen Maschinen anmelden oder mit ihnen
interagieren, ermöglichen sie eine Reihe von Schlüsselfunktionen, wie
z.B. die Sicherstellung, dass unser Benutzerkonto und unsere Dateien im
gesamten HPC-System verfügbar sind.</p>
</section><section><h2 class="section-heading" id="was-befindet-sich-in-einem-knoten">Was befindet sich in einem Knoten?<a class="anchor" aria-label="anchor" href="#was-befindet-sich-in-einem-knoten"></a>
</h2>
<hr class="half-width">
<p>Alle Knoten in einem HPC-System haben die gleichen Komponenten wie
Ihr eigener Laptop oder Desktop: <em>CPUs</em> (manchmal auch
<em>Prozessoren</em> oder <em>Cores</em> genannt), <em>Speicher</em>
(oder <em>RAM</em>) und <em>Festplattenspeicher</em>. CPUs sind das
Werkzeug eines Computers, um Programme und Berechnungen auszuführen.
Informationen über eine aktuelle Aufgabe werden im Arbeitsspeicher des
Computers gespeichert. Der Begriff “Festplatte” bezieht sich auf den
gesamten Speicher, auf den wie auf ein Dateisystem zugegriffen werden
kann. In der Regel handelt es sich dabei um Speicher, der Daten
dauerhaft speichern kann, d. h. die Daten sind auch dann noch vorhanden,
wenn der Computer neu gestartet wurde. Während dieser Speicher lokal
sein kann (eine Festplatte ist darin installiert), ist es üblicher, dass
Knoten mit einem gemeinsam genutzten, entfernten Dateiserver oder einem
Cluster von Servern verbunden sind.</p>
<figure><img src="../fig/node_anatomy.png" max-width="20%" caption="" alt="Knoten Anatomie" class="figure mx-auto d-block"><div class="figcaption">Knoten Anatomie</div>
</figure><div id="erforsche-deinen-computer" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="erforsche-deinen-computer" class="callout-inner">
<h3 class="callout-title">Erforsche deinen Computer</h3>
<div class="callout-content">
<p>Versuchen Sie herauszufinden, wie viele CPUs und wie viel
Arbeitsspeicher auf Ihrem persönlichen Computer verfügbar sind. Beachten
Sie, dass Sie sich zuerst abmelden müssen, wenn Sie bei dem entfernten
Computer-Cluster angemeldet sind. Geben Sie dazu <code>Ctrl+d</code>
oder <code>exit</code> ein:</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] exit</span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="ex">[you@laptop:~]$</span></span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Zeige mir die Lösung </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<p>Es gibt mehrere Möglichkeiten, dies zu tun. Die meisten
Betriebssysteme haben einen grafischen Systemmonitor, wie den Windows
Task Manager. Ausführlichere Informationen können manchmal über die
Befehlszeile abgerufen werden. Einige der Befehle, die auf einem
Linux-System verwendet werden, sind zum Beispiel:</p>
<p>Systemdienstprogramme ausführen</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="ex">[you@laptop:~]$</span> nproc <span class="at">--all</span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="ex">[you@laptop:~]$</span> free <span class="at">-m</span></span></code></pre>
</div>
<p>Lesen von <code>/proc</code></p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="ex">[you@laptop:~]$</span> cat /proc/cpuinfo</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a><span class="ex">[you@laptop:~]$</span> cat /proc/meminfo</span></code></pre>
</div>
<p>Verwenden Sie einen Systemmonitor</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="ex">[you@laptop:~]$</span> htop</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="erkundung-des-anmeldeknotens" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="erkundung-des-anmeldeknotens" class="callout-inner">
<h3 class="callout-title">Erkundung des Anmeldeknotens</h3>
<div class="callout-content">
<p>Vergleichen Sie nun die Ressourcen Ihres Computers mit denen des
Hauptknotens.</p>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Zeige mir die Lösung </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="ex">[you@laptop:~]$</span> ssh yourUsername@cluster.hpc-carpentry.org</span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] nproc <span class="at">--all</span></span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] free <span class="at">-m</span></span></code></pre>
</div>
<p>Sie können mehr Informationen über die Prozessoren erhalten, indem
Sie <code>lscpu</code> benutzen, und eine Menge Details über den
Speicher, indem Sie die Datei <code>/proc/meminfo</code> lesen:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] less /proc/meminfo</span></code></pre>
</div>
<p>Sie können auch die verfügbaren Dateisysteme mit <code>df</code>
untersuchen, um <strong>d</strong>isk <strong>f</strong>ree space
anzuzeigen. Das Flag <code>-h</code> zeigt die Größen in einem
menschenfreundlichen Format an, d.h. GB statt B. Das
<strong>t</strong>ype Flag <code>-T</code> zeigt, welche Art von
Dateisystem jede Ressource ist.</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] df <span class="at">-Th</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="discussion1" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Diskussion</h3>
<div class="callout-content">
<p>Die lokalen Dateisysteme (ext, tmp, xfs, zfs) hängen davon ab, ob Sie
sich auf demselben Anmeldeknoten (oder Rechenknoten, später) befinden.
Netzwerk-Dateisysteme (beegfs, cifs, gpfs, nfs, pvfs) werden ähnlich
sein — können aber yourUsername enthalten, abhängig davon, wie es
[gemountet] wird (<a href="https://en.wikipedia.org/wiki/Mount_(computing)" class="external-link uri">https://en.wikipedia.org/wiki/Mount_(computing)</a>).</p>
</div>
</div>
</div>
<div id="gemeinsame-dateisysteme" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="gemeinsame-dateisysteme" class="callout-inner">
<h3 class="callout-title">Gemeinsame Dateisysteme</h3>
<div class="callout-content">
<p>Dies ist ein wichtiger Punkt: Dateien, die auf einem Knoten
(Computer) gespeichert sind, sind oft überall im Cluster verfügbar!</p>
</div>
</div>
</div>
<div id="explore-a-worker-node" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="explore-a-worker-node" class="callout-inner">
<h3 class="callout-title">Explore a Worker Node</h3>
<div class="callout-content">
<p>Finally, let’s look at the resources available on the worker nodes
where your jobs will actually run. Try running this command to see the
name, CPUs and memory available on one of the worker nodes:</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] sinfo <span class="at">-o</span> <span class="st">"%n %c %m"</span> <span class="kw">|</span> <span class="ex">column</span> <span class="at">-t</span></span></code></pre>
</div>
</div>
</div>
</div>
<div id="vergleichen-sie-ihren-computer-den-anmeldeknoten-und-den-berechnungsknoten" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="vergleichen-sie-ihren-computer-den-anmeldeknoten-und-den-berechnungsknoten" class="callout-inner">
<h3 class="callout-title">Vergleichen Sie Ihren Computer, den Anmeldeknoten und den Berechnungsknoten</h3>
<div class="callout-content">
<p>Vergleichen Sie die Anzahl der Prozessoren und des Arbeitsspeichers
Ihres Laptops mit den Zahlen, die Sie auf dem Hauptknoten und dem
Arbeitsknoten des Clusters sehen. Diskutieren Sie die Unterschiede mit
Ihrem Nachbarn.</p>
<p>Was denken Sie, welche Auswirkungen die Unterschiede auf die
Durchführung Ihrer Forschungsarbeit auf den verschiedenen Systemen und
Knotenpunkten haben könnten?</p>
</div>
</div>
</div>
<div id="unterschiede-zwischen-den-knoten" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="unterschiede-zwischen-den-knoten" class="callout-inner">
<h3 class="callout-title">Unterschiede zwischen den Knoten</h3>
<div class="callout-content">
<p>Viele HPC-Cluster haben eine Vielzahl von Knoten, die für bestimmte
Arbeitslasten optimiert sind. Einige Knoten verfügen über eine größere
Speichermenge oder spezialisierte Ressourcen wie grafische
Verarbeitungseinheiten (GPUs).</p>
</div>
</div>
</div>
<p>Mit all dem im Hinterkopf werden wir nun besprechen, wie man mit dem
Scheduler des Clusters kommuniziert und ihn benutzt, um unsere Skripte
und Programme laufen zu lassen!</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Hauptpunkte</h3>
<div class="callout-content">
<ul>
<li>“Ein HPC-System ist eine Gruppe von vernetzten Maschinen.”</li>
<li>“HPC-Systeme bieten normalerweise Anmeldeknoten und eine Reihe von
Arbeitsknoten.”</li>
<li>“Die Ressourcen, die sich auf unabhängigen (Arbeits-)Knoten
befinden, können in Umfang und Art variieren (Menge des
Arbeitsspeichers, Prozessorarchitektur, Verfügbarkeit von im Netzwerk
eingebundenen Dateisystemen usw.).”</li>
<li>“Dateien, die auf einem Knoten gespeichert sind, sind auf allen
Knoten verfügbar.”</li>
</ul>
</div>
</div>
</div>
</section></section><section id="aio-13-scheduler"><p>Content from <a href="13-scheduler.html">Grundlagen des Schedulers</a></p>
<hr>
<p>Zuletzt aktualisiert am 2025-08-04 |

        <a href="https://github.com/ocaisa/probable-pancake/edit/main/episodes/13-scheduler.Rmd" class="external-link">Diese Seite bearbeiten <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Geschätzte Zeit: <i aria-hidden="true" data-feather="clock"></i> 75 Minuten</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Alle Lösungen anzeigen " data-collapse="Alle Lösungen ausblenden "> Alle Lösungen anzeigen <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Übersicht</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Fragen</h3>
<ul>
<li>Was ist ein Scheduler und warum braucht ein Cluster einen?</li>
<li>Wie starte ich ein Programm zur Ausführung auf einem Rechenknoten im
Cluster?</li>
<li>Wie kann ich die Ausgabe eines Programms erfassen, das auf einem
Knoten im Cluster ausgeführt wird?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Ziele</h3>
<ul>
<li>Übermittelt ein einfaches Skript an den Cluster.</li>
<li>Überwachen Sie die Ausführung von Aufträgen mit Hilfe von
Kommandozeilenwerkzeugen.</li>
<li>Überprüfen Sie die Ausgabe- und Fehlerdateien Ihrer Aufträge.</li>
<li>Finden Sie den richtigen Ort, um große Datensätze auf dem Cluster
abzulegen.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="job-scheduler">Job Scheduler<a class="anchor" aria-label="anchor" href="#job-scheduler"></a>
</h2>
<hr class="half-width">
<p>Ein HPC-System kann Tausende von Knoten und Tausende von Benutzern
haben. Wie wird entschieden, wer was und wann bekommt? Wie wird
sichergestellt, dass eine Aufgabe mit den erforderlichen Ressourcen
ausgeführt wird? Diese Aufgabe wird von einer speziellen Software, dem
<em>Scheduler</em>, übernommen. Auf einem HPC-System verwaltet der
Scheduler, welche Aufgaben wo und wann ausgeführt werden.</p>
<p>Die folgende Abbildung vergleicht diese Aufgaben eines Job Schedulers
mit denen eines Kellners in einem Restaurant. Wenn Sie sich vorstellen
können, dass Sie eine Weile in einer Schlange warten mussten, um in ein
beliebtes Restaurant zu kommen, dann verstehen Sie jetzt vielleicht,
warum Ihr Job manchmal nicht sofort startet, wie bei Ihrem Laptop.</p>
<figure><img src="../fig/restaurant_queue_manager.svg" alt="Vergleiche einen Job Scheduler mit einem Kellner in einem Restaurant" max-width="75%" class="figure mx-auto d-block"></figure><p>Der in dieser Lektion verwendete Scheduler ist Slurm. Obwohl Slurm
nicht überall verwendet wird, ist die Ausführung von Aufträgen ziemlich
ähnlich, unabhängig davon, welche Software verwendet wird. Die genaue
Syntax kann sich ändern, aber die Konzepte bleiben die gleichen.</p>
</section><section><h2 class="section-heading" id="ausführen-eines-batch-jobs">Ausführen eines Batch-Jobs<a class="anchor" aria-label="anchor" href="#ausf%C3%BChren-eines-batch-jobs"></a>
</h2>
<hr class="half-width">
<p>Die einfachste Anwendung des Schedulers ist die nicht-interaktive
Ausführung eines Befehls. Jeder Befehl (oder eine Reihe von Befehlen),
den Sie auf dem Cluster ausführen möchten, wird als <em>Job</em>
bezeichnet, und der Prozess der Verwendung eines Schedulers zur
Ausführung des Jobs wird <em>Batch Job Submission</em> genannt.</p>
<p>In diesem Fall handelt es sich bei dem Auftrag, den wir ausführen
wollen, um ein Shell-Skript - im Wesentlichen eine Textdatei mit einer
Liste von UNIX-Befehlen, die nacheinander ausgeführt werden sollen.
Unser Shell-Skript wird aus drei Teilen bestehen:</p>
<ul>
<li>In der allerersten Zeile fügen Sie <code>#!/bin/bash</code> ein. Das
<code>#!</code> (ausgesprochen “hash-bang” oder “shebang”) sagt dem
Computer, welches Programm den Inhalt dieser Datei verarbeiten soll. In
diesem Fall teilen wir ihm mit, dass die folgenden Befehle für die
Kommandozeilen-Shell geschrieben sind (in der wir bisher alles gemacht
haben).</li>
<li>Irgendwo unterhalb der ersten Zeile fügen wir einen
<code>echo</code>-Befehl mit einer freundlichen Begrüßung ein. Wenn es
ausgeführt wird, gibt das Shell-Skript im Terminal alles aus, was nach
<code>echo</code> kommt.
<ul>
<li>
<code>echo -n</code> druckt alles, was folgt, <em>ohne</em> die
Zeile mit einem Zeilenumbruch zu beenden.</li>
</ul>
</li>
<li>In der letzten Zeile rufen wir den Befehl <code>hostname</code> auf,
der den Namen des Rechners ausgibt, auf dem das Skript ausgeführt
wird.</li>
</ul>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] nano example-job.sh</span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="bu">echo</span> <span class="at">-n</span> <span class="st">"This script is running on "</span></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a><span class="fu">hostname</span></span></code></pre>
</div>
<div id="erstellen-unseres-testjobs" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="erstellen-unseres-testjobs" class="callout-inner">
<h3 class="callout-title">Erstellen unseres Testjobs</h3>
<div class="callout-content">
<p>Führen Sie das Skript aus. Wird es auf dem Cluster oder nur auf
unserem Anmeldeknoten ausgeführt?</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Lösung
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] bash example-job.sh</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>This script is running on login1</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>Dieses Skript lief auf dem Anmeldeknoten, aber wir wollen die
Vorteile der Rechenknoten nutzen: Wir brauchen den Scheduler, um
<code>example-job.sh</code> in die Warteschlange zu stellen, damit er
auf einem Rechenknoten läuft.</p>
<p>Um diese Aufgabe an den Scheduler zu senden, benutzen wir den Befehl
<code>sbatch</code>. Dies erzeugt einen <em>Job</em>, der das
<em>Skript</em> ausführt, wenn er an einen Rechenknoten
<em>gesendet</em> wird, den das Warteschlangensystem als verfügbar für
die Ausführung der Arbeit identifiziert hat.</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] sbatch  example-job.sh</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Submitted batch job 7</code></pre>
</div>
<p>Und das ist alles, was wir tun müssen, um einen Auftrag abzuschicken.
Unsere Arbeit ist getan - jetzt übernimmt der Scheduler und versucht,
den Auftrag für uns auszuführen. Während der Auftrag darauf wartet,
ausgeführt zu werden, wird er in eine Liste von Aufträgen aufgenommen,
die <em>Warteschlange</em>. Um den Status unseres Jobs zu überprüfen,
können wir die Warteschlange mit dem Befehl
<code>squeue -u yourUsername</code> überprüfen.</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] squeue <span class="at">-u</span> yourUsername</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>JOBID PARTITION     NAME     USER ST       TIME  NODES NODELIST(REASON)
    9 cpubase_b example-   user01  R       0:05      1 node1</code></pre>
</div>
<p>Wir können alle Details zu unserem Auftrag sehen, vor allem, dass er
sich im Status <code>R</code> oder <code>RUNNING</code> befindet.
Manchmal müssen unsere Aufträge in einer Warteschlange warten
(<code>PENDING</code>) oder haben einen Fehler (<code>E</code>).</p>
<div id="wo-ist-die-ausgabe" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="wo-ist-die-ausgabe" class="callout-inner">
<h3 class="callout-title">Wo ist die Ausgabe?</h3>
<div class="callout-content">
<p>Auf dem Login-Knoten gab dieses Skript eine Ausgabe auf dem Terminal
aus – aber jetzt, wenn <code>squeue</code> anzeigt, dass der Job beendet
ist, wurde nichts auf dem Terminal ausgegeben.</p>
<p>Die Ausgabe eines Cluster-Jobs wird normalerweise in eine Datei in
dem Verzeichnis umgeleitet, aus dem Sie ihn gestartet haben. Verwenden
Sie <code>ls</code> zum Suchen und <code>cat</code> zum Lesen der
Datei.</p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="anpassen-eines-jobs">Anpassen eines Jobs<a class="anchor" aria-label="anchor" href="#anpassen-eines-jobs"></a>
</h2>
<hr class="half-width">
<p>Der Auftrag, den wir gerade ausgeführt haben, verwendete alle
Standardoptionen des Schedulers. In einem realen Szenario ist das
wahrscheinlich nicht das, was wir wollen. Die Standardoptionen stellen
ein vernünftiges Minimum dar. Wahrscheinlich benötigen wir mehr Kerne,
mehr Arbeitsspeicher, mehr Zeit und andere spezielle Überlegungen. Um
Zugang zu diesen Ressourcen zu erhalten, müssen wir unser Jobskript
anpassen.</p>
<p>Kommentare in UNIX-Shell-Skripten (gekennzeichnet durch
<code>#</code>) werden normalerweise ignoriert, aber es gibt Ausnahmen.
Zum Beispiel gibt der spezielle Kommentar <code>#!</code> am Anfang von
Skripten an, welches Programm benutzt werden soll, um es auszuführen
(typischerweise steht hier <code>#!/usr/bin/env bash</code>). Scheduler
wie Slurm haben auch einen speziellen Kommentar, um spezielle
Scheduler-spezifische Optionen zu kennzeichnen. Obwohl diese Kommentare
von Scheduler zu Scheduler unterschiedlich sind, ist der spezielle
Kommentar von Slurm <code>#SBATCH</code>. Alles, was dem Kommentar
<code>#SBATCH</code> folgt, wird als Anweisung an den Scheduler
interpretiert.</p>
<p>Lassen Sie uns dies an einem Beispiel verdeutlichen. Standardmäßig
ist der Name eines Jobs der Name des Skripts, aber mit der Option
<code>-J</code> kann man den Namen eines Jobs ändern. Fügen Sie eine
Option in das Skript ein:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] cat example-job.sh</span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a><span class="co">#SBATCH -J hello-world</span></span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a><span class="bu">echo</span> <span class="at">-n</span> <span class="st">"This script is running on "</span></span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a><span class="fu">hostname</span></span></code></pre>
</div>
<p>Übermitteln Sie den Auftrag und überwachen Sie seinen Status:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] sbatch  example-job.sh</span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] squeue <span class="at">-u</span> yourUsername</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>JOBID PARTITION     NAME     USER ST       TIME  NODES NODELIST(REASON)
   10 cpubase_b hello-wo   user01  R       0:02      1 node1</code></pre>
</div>
<p>Fantastisch, wir haben den Namen unseres Jobs erfolgreich
geändert!</p>
<div class="section level3">
<h3 id="ressourcenanfragen">Ressourcenanfragen<a class="anchor" aria-label="anchor" href="#ressourcenanfragen"></a>
</h3>
<p>Was ist mit wichtigeren Änderungen, wie der Anzahl der Kerne und des
Speichers für unsere Jobs? Eine Sache, die bei der Arbeit an einem
HPC-System absolut entscheidend ist, ist die Angabe der für die
Ausführung eines Auftrags erforderlichen Ressourcen. So kann der
Scheduler die richtige Zeit und den richtigen Ort für die Ausführung
unseres Auftrags finden. Wenn Sie die Anforderungen (z. B. die benötigte
Zeit) nicht angeben, werden Sie wahrscheinlich mit den
Standardressourcen Ihrer Website arbeiten, was wahrscheinlich nicht das
ist, was Sie wollen.</p>
<p>Es folgen mehrere wichtige Ressourcenanfragen:</p>
<ul>
<li><p><code>--ntasks=&lt;ntasks&gt;</code> oder
<code>-n &lt;ntasks&gt;</code>: Wie viele CPU-Kerne benötigt Ihr Job
insgesamt?</p></li>
<li><p><code>--time &lt;days-hours:minutes:seconds&gt;</code> oder
<code>-t &lt;days-hours:minutes:seconds&gt;</code>: Wie viel reale Zeit
(Walltime) wird Ihr Job für die Ausführung benötigen? Der Teil
<code>&lt;days&gt;</code> kann weggelassen werden.</p></li>
<li><p><code>--mem=&lt;megabytes&gt;</code>: Wie viel Speicher auf einem
Knoten benötigt Ihr Auftrag in Megabyte? Sie können auch Gigabytes
angeben, indem Sie ein kleines “g” anhängen (Beispiel:
<code>--mem=5g</code>)</p></li>
<li><p><code>--nodes=&lt;nnodes&gt;</code> oder
<code>-N &lt;nnodes&gt;</code>: Auf wie vielen separaten Rechnern muss
Ihr Auftrag laufen? Beachten Sie, dass, wenn Sie <code>ntasks</code> auf
eine Zahl setzen, die größer ist als die, die eine Maschine bieten kann,
Slurm diesen Wert automatisch einstellt.</p></li>
</ul>
<p>Beachten Sie, dass das bloße <em>Anfordern</em> dieser Ressourcen
Ihren Auftrag nicht schneller laufen lässt und auch nicht unbedingt
bedeutet, dass Sie alle diese Ressourcen verbrauchen werden. Es bedeutet
nur, dass sie Ihnen zur Verfügung gestellt werden. Es kann sein, dass
Ihr Auftrag am Ende weniger Speicher, weniger Zeit oder weniger Knoten
benötigt, als Sie angefordert haben, und er wird trotzdem
ausgeführt.</p>
<p>Es ist am besten, wenn Ihre Anfragen die Anforderungen Ihres Auftrags
genau widerspiegeln. In einer späteren Folge dieser Lektion werden wir
mehr darüber sprechen, wie Sie sicherstellen können, dass Sie die
Ressourcen effektiv nutzen.</p>
<div id="übermittlung-von-ressourcenanfragen" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="übermittlung-von-ressourcenanfragen" class="callout-inner">
<h3 class="callout-title">Übermittlung von Ressourcenanfragen</h3>
<div class="callout-content">
<p>Ändern Sie unser <code>hostname</code>-Skript so, dass es eine Minute
lang läuft, und senden Sie dann einen Job dafür an den Cluster.</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">
  Lösung
  </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] cat example-job.sh</span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a><span class="co">#SBATCH -t 00:01 # timeout in HH:MM</span></span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a><span class="bu">echo</span> <span class="at">-n</span> <span class="st">"This script is running on "</span></span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a><span class="fu">sleep</span> 20 <span class="co"># time in seconds</span></span>
<span id="cb14-6"><a href="#cb14-6" tabindex="-1"></a><span class="fu">hostname</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] sbatch  example-job.sh</span></code></pre>
</div>
<p>Warum sind die Slurm Laufzeit und die <code>sleep</code> Zeit nicht
identisch?</p>
</div>
</div>
</div>
</div>
<p>Ressourcenanforderungen sind normalerweise verbindlich. Wenn Sie
diese überschreiten, wird Ihr Auftrag abgebrochen. Nehmen wir die
Wandzeit als Beispiel. Wir fordern 1 Minute Wandzeit an und versuchen,
einen Auftrag zwei Minuten lang laufen zu lassen.</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] cat example-job.sh</span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a><span class="co">#SBATCH -J long_job</span></span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a><span class="co">#SBATCH -t 00:01 # timeout in HH:MM</span></span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a></span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"This script is running on ... "</span></span>
<span id="cb17-6"><a href="#cb17-6" tabindex="-1"></a><span class="fu">sleep</span> 240 <span class="co"># time in seconds</span></span>
<span id="cb17-7"><a href="#cb17-7" tabindex="-1"></a><span class="fu">hostname</span></span></code></pre>
</div>
<p>Senden Sie den Auftrag ab und warten Sie, bis er beendet ist. Sobald
er beendet ist, überprüfen Sie die Protokolldatei.</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] sbatch  example-job.sh</span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] squeue <span class="at">-u</span> yourUsername</span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] cat slurm-12.out</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>This script is running on ...
slurmstepd: error: *** JOB 12 ON node1 CANCELLED AT 2021-02-19T13:55:57
DUE TO TIME LIMIT ***</code></pre>
</div>
<p>Unser Auftrag wurde abgebrochen, weil er die angeforderte Menge an
Ressourcen überschritten hat. Obwohl dies hart erscheint, handelt es
sich dabei um eine Funktion. Die strikte Einhaltung der
Ressourcenanforderungen ermöglicht es dem Scheduler, den bestmöglichen
Platz für Ihre Jobs zu finden. Noch wichtiger ist jedoch, dass dadurch
sichergestellt wird, dass ein anderer Benutzer nicht mehr Ressourcen
verwenden kann, als ihm zugewiesen wurden. Wenn ein anderer Benutzer
einen Fehler macht und versehentlich versucht, alle Kerne oder den
gesamten Speicher eines Knotens zu nutzen, wird Slurm entweder seinen
Job auf die angeforderten Ressourcen beschränken oder den Job ganz
beenden. Andere Jobs auf dem Knoten sind davon nicht betroffen. Das
bedeutet, dass ein Benutzer nicht die Erfahrungen anderer Benutzer
durcheinander bringen kann, die einzigen Jobs, die von einem Fehler in
der Planung betroffen sind, sind die eigenen.</p>
</div>
</section><section><h2 class="section-heading" id="abbrechen-eines-jobs">Abbrechen eines Jobs<a class="anchor" aria-label="anchor" href="#abbrechen-eines-jobs"></a>
</h2>
<hr class="half-width">
<p>Manchmal machen wir einen Fehler und müssen einen Auftrag abbrechen.
Das kann man mit dem Befehl <code>scancel</code> machen. Lassen Sie uns
einen Job abschicken und ihn dann mit seiner Jobnummer abbrechen (denken
Sie daran, die Walltime so zu ändern, dass er lange genug läuft, damit
Sie ihn abbrechen können, bevor er beendet wird).</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] sbatch  example-job.sh</span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] squeue <span class="at">-u</span> yourUsername</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Submitted batch job 13

JOBID PARTITION     NAME     USER ST       TIME  NODES NODELIST(REASON)
   13 cpubase_b long_job   user01  R       0:02      1 node1</code></pre>
</div>
<p>Stornieren Sie nun den Auftrag mit seiner Auftragsnummer (die in
Ihrem Terminal ausgedruckt wird). Eine saubere Rückkehr Ihrer
Eingabeaufforderung zeigt an, dass die Anfrage zum Abbrechen des
Auftrags erfolgreich war.</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] scancel 38759</span>
<span id="cb23-2"><a href="#cb23-2" tabindex="-1"></a><span class="co"># It might take a minute for the job to disappear from the queue...</span></span>
<span id="cb23-3"><a href="#cb23-3" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] squeue <span class="at">-u</span> yourUsername</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>JOBID PARTITION     NAME     USER ST       TIME  NODES NODELIST(REASON)</code></pre>
</div>
<div id="abbrechen-mehrerer-jobs" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="abbrechen-mehrerer-jobs" class="callout-inner">
<h3 class="callout-title">Abbrechen mehrerer Jobs</h3>
<div class="callout-content">
<p>Wir können auch alle unsere Aufträge auf einmal mit der Option
<code>-u</code> löschen. Damit werden alle Aufträge für einen bestimmten
Benutzer (in diesem Fall für Sie selbst) gelöscht. Beachten Sie, dass
Sie nur Ihre eigenen Aufträge löschen können.</p>
<p>Versuchen Sie, mehrere Aufträge einzureichen und sie dann alle
abzubrechen.</p>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3">
  Lösung
  </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<p>Übermitteln Sie zunächst ein Trio von Jobs:</p>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] sbatch  example-job.sh</span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] sbatch  example-job.sh</span>
<span id="cb25-3"><a href="#cb25-3" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] sbatch  example-job.sh</span></code></pre>
</div>
<p>Dann brechen Sie sie alle ab:</p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] scancel <span class="at">-u</span> yourUsername</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="andere-arten-von-jobs">Andere Arten von Jobs<a class="anchor" aria-label="anchor" href="#andere-arten-von-jobs"></a>
</h2>
<hr class="half-width">
<p>Bis zu diesem Punkt haben wir uns auf die Ausführung von Jobs im
Batch-Modus konzentriert. <code>Slurm</code> bietet auch die
Möglichkeit, eine interaktive Sitzung zu starten.</p>
<p>Es gibt sehr häufig Aufgaben, die interaktiv erledigt werden müssen.
Ein ganzes Job-Skript zu erstellen, wäre vielleicht übertrieben, aber
die Menge der benötigten Ressourcen ist zu groß für einen Login-Knoten.
Ein gutes Beispiel hierfür ist die Erstellung eines Genomindexes für das
Alignment mit einem Tool wie <a href="https://daehwankimlab.github.io/hisat2/" class="external-link">HISAT2</a>.
Glücklicherweise können wir diese Art von Aufgaben einmalig mit
<code>srun</code> ausführen.</p>
<p><code>srun</code> führt einen einzelnen Befehl auf dem Cluster aus
und beendet sich dann. Lassen Sie uns dies demonstrieren, indem wir den
Befehl <code>hostname</code> mit <code>srun</code> ausführen. (Wir
können einen <code>srun</code>-Job mit <code>Ctrl-c</code>
abbrechen.)</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] srun hostname</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">smnode1</span></span></code></pre>
</div>
<p><code>srun</code> akzeptiert die gleichen Optionen wie
<code>sbatch</code>. Allerdings werden diese Optionen nicht in einem
Skript angegeben, sondern auf der Kommandozeile, wenn ein Job gestartet
wird. Um einen Job zu starten, der 2 CPUs benutzt, könnte man z.B. den
folgenden Befehl verwenden:</p>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] srun <span class="at">-n</span> 2 echo <span class="st">"This job will use 2 CPUs."</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>This job will use 2 CPUs.
This job will use 2 CPUs.</code></pre>
</div>
<p>Typischerweise wird die resultierende Shell-Umgebung die gleiche sein
wie die für <code>sbatch</code>.</p>
<div class="section level3">
<h3 id="interaktive-jobs">Interaktive Jobs<a class="anchor" aria-label="anchor" href="#interaktive-jobs"></a>
</h3>
<p>Manchmal braucht man viele Ressourcen für die interaktive Nutzung.
Vielleicht führen wir zum ersten Mal eine Analyse durch oder versuchen,
einen Fehler zu beheben, der bei einem früheren Auftrag aufgetreten ist.
Glücklicherweise macht es Slurm einfach, einen interaktiven Job mit
<code>srun</code> zu starten:</p>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] srun <span class="at">--pty</span> bash</span></code></pre>
</div>
<p>Sie sollten nun eine Bash-Eingabeaufforderung erhalten. Beachten Sie,
dass sich die Eingabeaufforderung wahrscheinlich ändert, um Ihren neuen
Standort wiederzugeben, in diesem Fall den Rechenknoten, an dem wir
angemeldet sind. Sie können dies auch mit <code>hostname</code>
überprüfen.</p>
<div id="erstellen-von-remote-grafiken" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="erstellen-von-remote-grafiken" class="callout-inner">
<h3 class="callout-title">Erstellen von Remote-Grafiken</h3>
<div class="callout-content">
<p>Um die grafische Ausgabe innerhalb Ihrer Aufträge zu sehen, müssen
Sie die X11-Weiterleitung verwenden. Um diese Funktion zu aktivieren,
verwenden Sie die Option <code>-Y</code>, wenn Sie sich mit dem Befehl
<code>ssh</code> anmelden, z.B.
<code>ssh -Y yourUsername@cluster.hpc-carpentry.org</code>.</p>
<p>Um zu demonstrieren, was passiert, wenn Sie ein Grafikfenster auf dem
entfernten Knoten erstellen, verwenden Sie den Befehl
<code>xeyes</code>. Ein relativ hübsches Augenpaar sollte auftauchen
(drücken Sie <code>Ctrl-C</code>, um zu stoppen). Wenn Sie einen Mac
verwenden, müssen Sie XQuartz installiert (und Ihren Computer neu
gestartet) haben, damit dies funktioniert.</p>
<p>Wenn Ihr Cluster das <a href="https://github.com/hautreux/slurm-spank-x11" class="external-link">slurm-spank-x11</a>
Plugin installiert hat, können Sie die X11-Weiterleitung innerhalb
interaktiver Jobs sicherstellen, indem Sie die Option <code>--x11</code>
für <code>srun</code> mit dem Befehl <code>srun --x11 --pty bash</code>
verwenden.</p>
</div>
</div>
</div>
<p>Wenn Sie mit dem interaktiven Job fertig sind, geben Sie
<code>exit</code> ein, um Ihre Sitzung zu beenden.</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Hauptpunkte</h3>
<div class="callout-content">
<ul>
<li>Der Scheduler verwaltet die Aufteilung der Rechenressourcen zwischen
den Benutzern.</li>
<li>Ein Job ist einfach ein Shell-Skript.</li>
<li>Fordern Sie <em>geringfügig</em> mehr Ressourcen an, als Sie
brauchen werden.</li>
</ul>
</div>
</div>
</div>
</div>
</section></section><section id="aio-14-environment-variables"><p>Content from <a href="14-environment-variables.html">Umgebungsvariablen</a></p>
<hr>
<p>Zuletzt aktualisiert am 2025-08-04 |

        <a href="https://github.com/ocaisa/probable-pancake/edit/main/episodes/14-environment-variables.Rmd" class="external-link">Diese Seite bearbeiten <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Geschätzte Zeit: <i aria-hidden="true" data-feather="clock"></i> 15 Minuten</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Alle Lösungen anzeigen " data-collapse="Alle Lösungen ausblenden "> Alle Lösungen anzeigen <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Übersicht</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Fragen</h3>
<ul>
<li>Wie werden Variablen in der Unix-Shell gesetzt und
angesprochen?</li>
<li>Wie kann ich Variablen verwenden, um den Ablauf eines Programms zu
verändern?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Ziele</h3>
<ul>
<li>Verstehen, wie Variablen in der Shell implementiert werden</li>
<li>Liest den Wert einer bestehenden Variable</li>
<li>Erstellen Sie neue Variablen und ändern Sie deren Werte</li>
<li>Ändern Sie das Verhalten eines Programms mit Hilfe einer
Umgebungsvariablen</li>
<li>Erkläre, wie die Shell die Variable <code>PATH</code> benutzt, um
nach ausführbaren Dateien zu suchen</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="episode-provenance" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="episode-provenance" class="callout-inner">
<h3 class="callout-title">Episode provenance</h3>
<div class="callout-content">
<p>Diese Folge wurde aus der [Shell-Extras-Folge über Shell-Variablen]
(<a href="https://github.com/carpentries-incubator/shell-extras/blob/gh-pages/_episodes/08-environment-variables.md" class="external-link uri">https://github.com/carpentries-incubator/shell-extras/blob/gh-pages/_episodes/08-environment-variables.md</a>)
und der [HPC-Shell-Folge über Skripte] (<a href="https://github.com/hpc-carpentry/hpc-shell/blob/gh-pages/_episodes/05-scripts.md" class="external-link uri">https://github.com/hpc-carpentry/hpc-shell/blob/gh-pages/_episodes/05-scripts.md</a>)
neu zusammengestellt.</p>
</div>
</div>
</div>
<p>Die Shell ist nur ein Programm, und wie andere Programme auch, hat
sie Variablen. Diese Variablen steuern ihre Ausführung, so dass Sie
durch Ändern ihrer Werte das Verhalten der Shell (und mit etwas mehr
Aufwand auch das Verhalten anderer Programme) beeinflussen können.</p>
<p>Variablen sind eine gute Möglichkeit, Informationen unter einem Namen
zu speichern, auf den man später zugreifen kann. In Programmiersprachen
wie Python und R können Variablen so ziemlich alles speichern, was man
sich vorstellen kann. In der Shell speichern sie normalerweise nur Text.
Der beste Weg, um zu verstehen, wie sie funktionieren, ist, sie in
Aktion zu sehen.</p>
<p>Beginnen wir damit, den Befehl <code>set</code> auszuführen und
einige der Variablen in einer typischen Shell-Sitzung zu betrachten:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="bu">set</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>COMPUTERNAME=TURING
HOME=/home/vlad
HOSTNAME=TURING
HOSTTYPE=i686
NUMBER_OF_PROCESSORS=4
PATH=/Users/vlad/bin:/usr/local/git/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin
PWD=/home/vlad
UID=1000
USERNAME=vlad
...</code></pre>
</div>
<p>Wie Sie sehen können, gibt es ziemlich viele - tatsächlich vier- oder
fünfmal so viele, wie hier gezeigt werden. Und ja, <code>set</code> zu
benutzen, um Dinge <em>anzuzeigen</em>, mag ein wenig seltsam
erscheinen, selbst für Unix, aber wenn Sie ihr keine Argumente geben,
kann sie Ihnen auch Dinge zeigen, die Sie einstellen
<em>könnten</em>.</p>
<p>Jede Variable hat einen Namen. Alle Werte von Shell-Variablen sind
Zeichenketten, auch solche (wie <code>UID</code>), die wie Zahlen
aussehen. Es liegt an den Programmen, diese Zeichenketten bei Bedarf in
andere Typen zu konvertieren. Wenn ein Programm zum Beispiel
herausfinden wollte, wie viele Prozessoren der Computer hat, würde es
den Wert der Variablen <code>NUMBER_OF_PROCESSORS</code> von einer
Zeichenkette in eine ganze Zahl umwandeln.</p>
<section><h2 class="section-heading" id="den-wert-einer-variablen-anzeigen">Den Wert einer Variablen anzeigen<a class="anchor" aria-label="anchor" href="#den-wert-einer-variablen-anzeigen"></a>
</h2>
<hr class="half-width">
<p>Zeigen wir den Wert der Variable <code>HOME</code>:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="bu">echo</span> HOME</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">HOME</span></span></code></pre>
</div>
<p>Das gibt nur “HOME” aus, was nicht das ist, was wir wollten (obwohl
es das ist, wonach wir eigentlich gefragt haben). Versuchen wir
stattdessen dies:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="bu">echo</span> <span class="va">$HOME</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>/home/vlad</code></pre>
</div>
<p>Das Dollarzeichen sagt der Shell, dass wir den <em>Wert</em> der
Variable wollen und nicht ihren Namen. Das funktioniert genau wie bei
Wildcards: die Shell ersetzt die Variable <em>vor</em> der Ausführung
des gewünschten Programms. Dank dieser Erweiterung ist das, was wir
tatsächlich ausführen, <code>echo /home/vlad</code>, was das Richtige
anzeigt.</p>
</section><section><h2 class="section-heading" id="erstellen-und-ändern-von-variablen">Erstellen und Ändern von Variablen<a class="anchor" aria-label="anchor" href="#erstellen-und-%C3%A4ndern-von-variablen"></a>
</h2>
<hr class="half-width">
<p>Eine Variable zu erstellen ist einfach - wir weisen einem Namen mit
“=” einen Wert zu (wir müssen nur daran denken, dass die Syntax
verlangt, dass <em>keine</em> Leerzeichen um das <code>=</code> herum
sind!)</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="va">SECRET_IDENTITY</span><span class="op">=</span>Dracula</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="bu">echo</span> <span class="va">$SECRET_IDENTITY</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">Dracula</span></span></code></pre>
</div>
<p>Um den Wert zu ändern, weisen Sie einfach einen neuen Wert zu:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="va">SECRET_IDENTITY</span><span class="op">=</span>Camilla</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="bu">echo</span> <span class="va">$SECRET_IDENTITY</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">Camilla</span></span></code></pre>
</div>
</section><section><h2 class="section-heading" id="umgebungsvariablen">Umgebungsvariablen<a class="anchor" aria-label="anchor" href="#umgebungsvariablen"></a>
</h2>
<hr class="half-width">
<p>Als wir den <code>set</code>-Befehl ausführten, sahen wir, dass es
eine Menge Variablen gab, deren Namen in Großbuchstaben geschrieben
waren. Das liegt daran, dass Variablen, die auch von <em>anderen</em>
Programmen verwendet werden können, in Großbuchstaben benannt werden.
Solche Variablen werden <em>Umgebungsvariablen</em> genannt, da es sich
um Shell-Variablen handelt, die für die aktuelle Shell definiert sind
und an alle untergeordneten Shells oder Prozesse vererbt werden.</p>
<p>Um eine Umgebungsvariable zu erstellen, müssen Sie eine
Shell-Variable <code>export</code> angeben. Um zum Beispiel unser
<code>SECRET_IDENTITY</code> für andere Programme, die wir von unserer
Shell aus aufrufen, verfügbar zu machen, können wir folgendes tun:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="va">SECRET_IDENTITY</span><span class="op">=</span>Camilla</span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a><span class="bu">export</span> <span class="va">SECRET_IDENTITY</span></span></code></pre>
</div>
<p>Sie können die Variable auch in einem einzigen Schritt erstellen und
exportieren:</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="bu">export</span> <span class="va">SECRET_IDENTITY</span><span class="op">=</span>Camilla</span></code></pre>
</div>
<div id="verwendung-von-umgebungsvariablen-zur-änderung-des-programmverhaltens" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="verwendung-von-umgebungsvariablen-zur-änderung-des-programmverhaltens" class="callout-inner">
<h3 class="callout-title">Verwendung von Umgebungsvariablen zur Änderung des Programmverhaltens</h3>
<div class="callout-content">
<p>Setze eine Shell-Variable <code>TIME_STYLE</code> auf den Wert
<code>iso</code> und prüfe diesen Wert mit dem Befehl
<code>echo</code>.</p>
<p>Führen Sie nun den Befehl <code>ls</code> mit der Option
<code>-l</code> aus (was ein langes Format ergibt).</p>
<p><code>export</code> die Variable und führen Sie den Befehl
<code>ls -l</code> erneut aus. Bemerkst du einen Unterschied?</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Lösung
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<p>Die Variable <code>TIME_STYLE</code> wird von <code>ls</code> nicht
<em>gesehen</em>, bis sie exportiert wird. Zu diesem Zeitpunkt wird sie
von <code>ls</code> benutzt, um zu entscheiden, welches Datumsformat bei
der Darstellung des Zeitstempels von Dateien zu verwenden ist.</p>
</div>
</div>
</div>
</div>
<p>Sie können den kompletten Satz von Umgebungsvariablen in Ihrer
aktuellen Shell-Sitzung mit dem Befehl <code>env</code> sehen (der eine
Teilmenge dessen zurückgibt, was der Befehl <code>set</code> uns gegeben
hat). <strong>Der komplette Satz von Umgebungsvariablen wird als
<em>Laufzeitumgebung</em> bezeichnet und kann das Verhalten der von
Ihnen ausgeführten Programme beeinflussen</strong>.</p>
<div id="job-umgebungsvariablen" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="job-umgebungsvariablen" class="callout-inner">
<h3 class="callout-title">Job-Umgebungsvariablen</h3>
<div class="callout-content">
<p>Wenn <code>Slurm</code> einen Job ausführt, setzt es eine Reihe von
Umgebungsvariablen für den Job. Mit einer dieser Variablen können wir
überprüfen, von welchem Verzeichnis aus unser Job-Skript eingereicht
wurde. Die Variable <code>SLURM_SUBMIT_DIR</code> wird auf das
Verzeichnis gesetzt, von dem aus unser Job eingereicht wurde. Ändern Sie
Ihren Job mit Hilfe der Variable <code>SLURM_SUBMIT_DIR</code> so, dass
er das Verzeichnis ausgibt, von dem aus der Job übermittelt wurde.</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">
  Lösung
  </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] nano example-job.sh</span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] cat example-job.sh</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>#!/bin/bash
#SBATCH -t 00:00:30

echo -n "This script is running on "
hostname

echo "This job was launched in the following directory:"
echo ${SLURM_SUBMIT_DIR}</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>Um eine Variable oder Umgebungsvariable zu entfernen, können Sie zum
Beispiel den Befehl <code>unset</code> verwenden:</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="bu">unset</span> <span class="va">SECRET_IDENTITY</span></span></code></pre>
</div>
</section><section><h2 class="section-heading" id="die-path-umgebungsvariable">Die <code>PATH</code> Umgebungsvariable<a class="anchor" aria-label="anchor" href="#die-path-umgebungsvariable"></a>
</h2>
<hr class="half-width">
<p>In ähnlicher Weise speichern einige Umgebungsvariablen (wie
<code>PATH</code>) Listen von Werten. In diesem Fall ist die Konvention,
einen Doppelpunkt ‘:’ als Trennzeichen zu verwenden. Wenn ein Programm
die einzelnen Elemente einer solchen Liste benötigt, muss es den
String-Wert der Variablen in Stücke aufteilen.</p>
<p>Schauen wir uns die Variable <code>PATH</code> genauer an. Ihr Wert
definiert den Suchpfad der Shell für ausführbare Programme, d.h. die
Liste der Verzeichnisse, in denen die Shell nach ausführbaren Programmen
sucht, wenn Sie einen Programmnamen eintippen, ohne anzugeben, in
welchem Verzeichnis er sich befindet.</p>
<p>Wenn wir zum Beispiel einen Befehl wie <code>analyze</code> eingeben,
muss die Shell entscheiden, ob sie <code>./analyze</code> oder
<code>/bin/analyze</code> ausführen soll. Die Regel, die sie dabei
anwendet, ist einfach: Die Shell prüft jedes Verzeichnis in der
Variablen <code>PATH</code> der Reihe nach und sucht nach einem Programm
mit dem gewünschten Namen in diesem Verzeichnis. Sobald sie eine
Übereinstimmung findet, hört sie auf zu suchen und führt das Programm
aus.</p>
<p>Um zu zeigen, wie das funktioniert, sind hier die Komponenten von
<code>PATH</code> aufgelistet, eine pro Zeile:</p>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>/Users/vlad/bin
/usr/local/git/bin
/usr/bin
/bin
/usr/sbin
/sbin
/usr/local/bin</code></pre>
</div>
<p>Auf unserem Computer gibt es eigentlich drei Programme namens
<code>analyze</code> in drei verschiedenen Verzeichnissen:
<code>/bin/analyze</code>, <code>/usr/local/bin/analyze</code>, und
<code>/users/vlad/analyze</code>. Da die Shell die Verzeichnisse in der
Reihenfolge durchsucht, in der sie in <code>PATH</code> aufgelistet
sind, findet sie <code>/bin/analyze</code> zuerst und führt es aus.
Beachten Sie, dass sie das Programm <code>/users/vlad/analyze</code>
<em>nie</em> finden wird, es sei denn, wir geben den vollständigen Pfad
zum Programm ein, da das Verzeichnis <code>/users/vlad</code> nicht in
<code>PATH</code> enthalten ist.</p>
<p>Das bedeutet, dass ich ausführbare Dateien an vielen verschiedenen
Orten haben kann, solange ich daran denke, dass ich mein
<code>PATH</code> aktualisieren muss, damit meine Shell sie finden
kann.</p>
<p>Was ist, wenn ich zwei verschiedene Versionen desselben Programms
ausführen möchte? Da sie den gleichen Namen haben, wird, wenn ich sie
beide zu meinem <code>PATH</code> hinzufüge, immer die erste gefundene
Version gewinnen. In der nächsten Folge werden wir lernen, wie wir
Hilfsmittel verwenden können, die uns bei der Verwaltung unserer
Laufzeitumgebung helfen, damit dies möglich ist, ohne dass wir eine
Menge Buchhaltung darüber führen müssen, welchen Wert <code>PATH</code>
(und andere wichtige Umgebungsvariablen) haben oder haben sollten.</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Hauptpunkte</h3>
<div class="callout-content">
<ul>
<li>Shell-Variablen werden standardmäßig als Zeichenketten
behandelt</li>
<li>Variablen werden mit “<code>=</code>” zugewiesen und mit dem
Variablennamen, dem “<code>$</code>” vorangestellt ist, abgerufen</li>
<li>Verwenden Sie “<code>export</code>”, um eine Variable für andere
Programme verfügbar zu machen</li>
<li>Die Variable <code>PATH</code> definiert den Suchpfad der Shell</li>
</ul>
</div>
</div>
</div>
</section></section><section id="aio-15-modules"><p>Content from <a href="15-modules.html">Zugriff auf Software über Module</a></p>
<hr>
<p>Zuletzt aktualisiert am 2025-08-04 |

        <a href="https://github.com/ocaisa/probable-pancake/edit/main/episodes/15-modules.Rmd" class="external-link">Diese Seite bearbeiten <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Geschätzte Zeit: <i aria-hidden="true" data-feather="clock"></i> 45 Minuten</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Alle Lösungen anzeigen " data-collapse="Alle Lösungen ausblenden "> Alle Lösungen anzeigen <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Übersicht</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Fragen</h3>
<ul>
<li>Wie laden und entladen wir Softwarepakete?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Ziele</h3>
<ul>
<li>Ein Softwarepaket laden und verwenden.</li>
<li>Erklären Sie, wie sich die Shell-Umgebung verändert, wenn der
Modulmechanismus Pakete lädt oder entlädt.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>Auf einem Hochleistungsrechnersystem ist die Software, die wir
benutzen wollen, selten verfügbar, wenn wir uns anmelden. Sie ist zwar
installiert, aber wir müssen sie erst “laden”, bevor sie ausgeführt
werden kann.</p>
<p>Bevor wir jedoch anfangen, einzelne Softwarepakete zu verwenden,
sollten wir die Gründe für diesen Ansatz verstehen. Die drei wichtigsten
Faktoren sind:</p>
<ul>
<li>Software-Inkompatibilitäten</li>
<li>Versionierung</li>
<li>Abhängigkeiten</li>
</ul>
<p>Software-Inkompatibilität ist ein großes Problem für Programmierer.
Manchmal führt das Vorhandensein (oder Fehlen) eines Softwarepakets
dazu, dass andere Pakete, die davon abhängen, nicht mehr funktionieren.
Zwei bekannte Beispiele sind Python und C-Compiler-Versionen. Python 3
bietet bekanntlich einen <code>python</code>-Befehl, der im Widerspruch
zu dem von Python 2 steht. Software, die mit einer neueren Version der
C-Bibliotheken kompiliert und dann auf einem Rechner ausgeführt wird,
auf dem ältere C-Bibliotheken installiert sind, führt zu einem
unangenehmen <code>'GLIBCXX_3.4.20' not found</code>-Fehler.</p>
<p>Software Versionierung ist ein weiteres häufiges Problem. Ein Team
könnte für sein Forschungsprojekt auf eine bestimmte Paketversion
angewiesen sein - wenn sich die Softwareversion ändert (z.B. wenn ein
Paket aktualisiert wird), könnte dies die Ergebnisse beeinflussen. Durch
den Zugriff auf mehrere Softwareversionen kann eine Gruppe von Forschern
verhindern, dass Softwareversionsprobleme ihre Ergebnisse
beeinträchtigen.</p>
<p>Von Abhängigkeiten spricht man, wenn ein bestimmtes Softwarepaket
(oder sogar eine bestimmte Version) vom Zugriff auf ein anderes
Softwarepaket (oder sogar eine bestimmte Version eines anderen
Softwarepakets) abhängig ist. Zum Beispiel kann die
VASP-Materialwissenschaftssoftware davon abhängen, dass eine bestimmte
Version der FFTW-Softwarebibliothek (Fastest Fourier Transform in the
West) verfügbar ist, damit sie funktioniert.</p>
<section><h2 class="section-heading" id="umgebungsmodule">Umgebungsmodule<a class="anchor" aria-label="anchor" href="#umgebungsmodule"></a>
</h2>
<hr class="half-width">
<p>Umgebungsmodule sind die Lösung für diese Probleme. Ein
<em>Modul</em> ist eine in sich geschlossene Beschreibung eines
Softwarepakets - es enthält die Einstellungen, die zum Ausführen eines
Softwarepakets erforderlich sind, und kodiert in der Regel auch die
erforderlichen Abhängigkeiten von anderen Softwarepaketen.</p>
<p>Es gibt eine Reihe von verschiedenen Implementierungen von
Umgebungsmodulen, die häufig auf HPC-Systemen verwendet werden: die
beiden häufigsten sind <em>TCL-Module</em> und <em>Lmod</em>. Beide
verwenden eine ähnliche Syntax und die Konzepte sind die gleichen, so
dass Sie, wenn Sie lernen, eines davon zu verwenden, dasjenige verwenden
können, das auf dem von Ihnen verwendeten System installiert ist. In
beiden Implementierungen wird der Befehl <code>module</code> verwendet,
um mit Umgebungsmodulen zu interagieren. Normalerweise wird dem Befehl
ein zusätzlicher Unterbefehl hinzugefügt, um anzugeben, was Sie tun
wollen. Für eine Liste von Unterbefehlen können Sie
<code>module -h</code> oder <code>module help</code> verwenden. Wie für
alle Befehle können Sie die vollständige Hilfe auf den
<em>man</em>-Seiten mit <code>man module</code> aufrufen.</p>
<p>Bei der Anmeldung können Sie mit einem Standardsatz von geladenen
Modulen oder mit einer leeren Umgebung starten; dies hängt von der
Einrichtung des von Ihnen verwendeten Systems ab.</p>
<div class="section level3">
<h3 id="auflistung-der-verfügbaren-module">Auflistung der verfügbaren Module<a class="anchor" aria-label="anchor" href="#auflistung-der-verf%C3%BCgbaren-module"></a>
</h3>
<p>Um verfügbare Softwaremodule zu sehen, verwenden Sie
<code>module avail</code>:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] module avail</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>~~~ /cvmfs/pilot.eessi-hpc.org/2020.12/software/x86_64/amd/zen2/modules/all ~~~
  Bazel/3.6.0-GCCcore-x.y.z              NSS/3.51-GCCcore-x.y.z
  Bison/3.5.3-GCCcore-x.y.z              Ninja/1.10.0-GCCcore-x.y.z
  Boost/1.72.0-gompi-2020a               OSU-Micro-Benchmarks/5.6.3-gompi-2020a
  CGAL/4.14.3-gompi-2020a-Python-3.x.y   OpenBLAS/0.3.9-GCC-x.y.z
  CMake/3.16.4-GCCcore-x.y.z             OpenFOAM/v2006-foss-2020a

[removed most of the output here for clarity]

  Where:
   L:        Module is loaded
   Aliases:  Aliases exist: foo/1.2.3 (1.2) means that "module load foo/1.2"
             will load foo/1.2.3
   D:        Default Module

Use "module spider" to find all possible modules and extensions.
Use "module keyword key1 key2 ..." to search for all possible modules matching
any of the "keys".</code></pre>
</div>
</div>
<div class="section level3">
<h3 id="auflistung-der-aktuell-geladenen-module">Auflistung der aktuell geladenen Module<a class="anchor" aria-label="anchor" href="#auflistung-der-aktuell-geladenen-module"></a>
</h3>
<p>Sie können den Befehl <code>module list</code> verwenden, um zu
sehen, welche Module Sie derzeit in Ihrer Umgebung geladen haben. Wenn
Sie keine Module geladen haben, werden Sie eine Meldung sehen, die Ihnen
dies mitteilt</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] module list</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>No Modulefiles Currently Loaded.</code></pre>
</div>
</div>
</section><section><h2 class="section-heading" id="laden-und-entladen-von-software">Laden und Entladen von Software<a class="anchor" aria-label="anchor" href="#laden-und-entladen-von-software"></a>
</h2>
<hr class="half-width">
<p>Um ein Softwaremodul zu laden, verwenden Sie
<code>module load</code>. In diesem Beispiel werden wir Python 3
verwenden.</p>
<p>Anfangs ist Python 3 nicht geladen. Wir können dies mit dem Befehl
<code>which</code> testen. der Befehl <code>which</code> sucht auf die
gleiche Weise wie die Bash nach Programmen, so dass wir ihn verwenden
können, um uns zu sagen, wo ein bestimmtes Stück Software gespeichert
ist.</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] which python3</span></code></pre>
</div>
<p>Wenn der Befehl <code>python3</code> nicht verfügbar wäre, würden wir
folgende Ausgabe sehen</p>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>/usr/bin/which: no python3 in (/cvmfs/pilot.eessi-hpc.org/2020.12/compat/linux/x86_64/usr/bin:/opt/software/slurm/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/puppetlabs/bin:/home/yourUsername/.local/bin:/home/yourUsername/bin)</code></pre>
</div>
<p>Beachten Sie, dass dieser Text in Wirklichkeit eine Liste ist, mit
Werten, die durch das Zeichen <code>:</code> getrennt sind. Die Ausgabe
sagt uns, dass der Befehl <code>which</code> die folgenden Verzeichnisse
nach <code>python3</code> durchsucht hat, ohne Erfolg:</p>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>/cvmfs/pilot.eessi-hpc.org/2020.12/compat/linux/x86_64/usr/bin
/opt/software/slurm/bin
/usr/local/bin
/usr/bin
/usr/local/sbin
/usr/sbin
/opt/puppetlabs/bin
/home/yourUsername/.local/bin
/home/yourUsername/bin</code></pre>
</div>
<p>In unserem Fall haben wir jedoch ein vorhandenes <code>python3</code>
zur Verfügung, so dass wir sehen</p>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>/cvmfs/pilot.eessi-hpc.org/2020.12/compat/linux/x86_64/usr/bin/python3</code></pre>
</div>
<p>Wir benötigen jedoch ein anderes Python als das vom System
bereitgestellte, also laden wir ein Modul, um darauf zuzugreifen.</p>
<p>Wir können den Befehl <code>python3</code> mit
<code>module load</code> laden:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] module load Python</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] which python3</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>/cvmfs/pilot.eessi-hpc.org/2020.12/software/x86_64/amd/zen2/software/Python/3.x.y-GCCcore-x.y.z/bin/python3</code></pre>
</div>
<p>Was ist gerade passiert?</p>
<p>Um die Ausgabe zu verstehen, müssen wir zuerst die Natur der
Umgebungsvariablen <code>$PATH</code> verstehen. <code>$PATH</code> ist
eine spezielle Umgebungsvariable, die steuert, wo ein UNIX-System nach
Software sucht. Genauer gesagt ist <code>$PATH</code> eine Liste von
Verzeichnissen (getrennt durch <code>:</code>), die das Betriebssystem
nach einem Befehl durchsucht, bevor es aufgibt und uns mitteilt, dass es
ihn nicht finden kann. Wie bei allen Umgebungsvariablen können wir sie
mit <code>echo</code> ausgeben.</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] echo <span class="va">$PATH</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>/cvmfs/pilot.eessi-hpc.org/2020.12/software/x86_64/amd/zen2/software/Python/3.x.y-GCCcore-x.y.z/bin:/cvmfs/pilot.eessi-hpc.org/2020.12/software/x86_64/amd/zen2/software/SQLite/3.31.1-GCCcore-x.y.z/bin:/cvmfs/pilot.eessi-hpc.org/2020.12/software/x86_64/amd/zen2/software/Tcl/8.6.10-GCCcore-x.y.z/bin:/cvmfs/pilot.eessi-hpc.org/2020.12/software/x86_64/amd/zen2/software/GCCcore/x.y.z/bin:/cvmfs/pilot.eessi-hpc.org/2020.12/compat/linux/x86_64/usr/bin:/opt/software/slurm/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/puppetlabs/bin:/home/user01/.local/bin:/home/user01/bin</code></pre>
</div>
<p>Sie werden eine Ähnlichkeit mit der Ausgabe des Befehls
<code>which</code> feststellen. In diesem Fall gibt es nur einen
Unterschied: das andere Verzeichnis am Anfang. Als wir den Befehl
<code>module load</code> ausführten, fügte er ein Verzeichnis am Anfang
unserer <code>$PATH</code> hinzu. Schauen wir uns an, was dort
steht:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] ls /cvmfs/pilot.eessi-hpc.org/2020.12/software/x86_64/amd/zen2/software/Python/3.x.y-GCCcore-x.y.z/bin</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>2to3              nosetests-3.8  python                 rst2s5.py
2to3-3.8          pasteurize     python3                rst2xetex.py
chardetect        pbr            python3.8              rst2xml.py
cygdb             pip            python3.8-config       rstpep2html.py
cython            pip3           python3-config         runxlrd.py
cythonize         pip3.8         rst2html4.py           sphinx-apidoc
easy_install      pybabel        rst2html5.py           sphinx-autogen
easy_install-3.8  __pycache__    rst2html.py            sphinx-build
futurize          pydoc3         rst2latex.py           sphinx-quickstart
idle3             pydoc3.8       rst2man.py             tabulate
idle3.8           pygmentize     rst2odt_prepstyles.py  virtualenv
netaddr           pytest         rst2odt.py             wheel
nosetests         py.test        rst2pseudoxml.py</code></pre>
</div>
<p>Um es auf den Punkt zu bringen: <code>module load</code> fügt
Software zu Ihrem <code>$PATH</code> hinzu. Es “lädt” Software. Ein
spezieller Hinweis dazu - je nachdem, welche Version des Programms
<code>module</code> bei Ihnen installiert ist, wird
<code>module load</code> auch erforderliche Software-Abhängigkeiten
laden.</p>
<p>Zur Veranschaulichung wollen wir <code>module list</code> verwenden.
<code>module list</code> zeigt alle geladenen Softwaremodule an.</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] module list</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Currently Loaded Modules:
  1) GCCcore/x.y.z                 4) GMP/6.2.0-GCCcore-x.y.z
  2) Tcl/8.6.10-GCCcore-x.y.z      5) libffi/3.3-GCCcore-x.y.z
  3) SQLite/3.31.1-GCCcore-x.y.z   6) Python/3.x.y-GCCcore-x.y.z</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] module load GROMACS</span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] module list</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Currently Loaded Modules:
  1) GCCcore/x.y.z                    14) libfabric/1.11.0-GCCcore-x.y.z
  2) Tcl/8.6.10-GCCcore-x.y.z         15) PMIx/3.1.5-GCCcore-x.y.z
  3) SQLite/3.31.1-GCCcore-x.y.z      16) OpenMPI/4.0.3-GCC-x.y.z
  4) GMP/6.2.0-GCCcore-x.y.z          17) OpenBLAS/0.3.9-GCC-x.y.z
  5) libffi/3.3-GCCcore-x.y.z         18) gompi/2020a
  6) Python/3.x.y-GCCcore-x.y.z       19) FFTW/3.3.8-gompi-2020a
  7) GCC/x.y.z                        20) ScaLAPACK/2.1.0-gompi-2020a
  8) numactl/2.0.13-GCCcore-x.y.z     21) foss/2020a
  9) libxml2/2.9.10-GCCcore-x.y.z     22) pybind11/2.4.3-GCCcore-x.y.z-Pytho...
 10) libpciaccess/0.16-GCCcore-x.y.z  23) SciPy-bundle/2020.03-foss-2020a-Py...
 11) hwloc/2.2.0-GCCcore-x.y.z        24) networkx/2.4-foss-2020a-Python-3.8...
 12) libevent/2.1.11-GCCcore-x.y.z    25) GROMACS/2020.1-foss-2020a-Python-3...
 13) UCX/1.8.0-GCCcore-x.y.z</code></pre>
</div>
<p>In diesem Fall hat das Laden des Moduls <code>GROMACS</code> (ein
Bioinformatik-Softwarepaket) auch <code>GMP/6.2.0-GCCcore-x.y.z</code>
und <code>SciPy-bundle/2020.03-foss-2020a-Python-3.x.y</code> geladen.
Lassen Sie uns versuchen, das Paket <code>GROMACS</code> zu
entladen.</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] module unload GROMACS</span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] module list</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Currently Loaded Modules:
  1) GCCcore/x.y.z                    13) UCX/1.8.0-GCCcore-x.y.z
  2) Tcl/8.6.10-GCCcore-x.y.z         14) libfabric/1.11.0-GCCcore-x.y.z
  3) SQLite/3.31.1-GCCcore-x.y.z      15) PMIx/3.1.5-GCCcore-x.y.z
  4) GMP/6.2.0-GCCcore-x.y.z          16) OpenMPI/4.0.3-GCC-x.y.z
  5) libffi/3.3-GCCcore-x.y.z         17) OpenBLAS/0.3.9-GCC-x.y.z
  6) Python/3.x.y-GCCcore-x.y.z       18) gompi/2020a
  7) GCC/x.y.z                        19) FFTW/3.3.8-gompi-2020a
  8) numactl/2.0.13-GCCcore-x.y.z     20) ScaLAPACK/2.1.0-gompi-2020a
  9) libxml2/2.9.10-GCCcore-x.y.z     21) foss/2020a
 10) libpciaccess/0.16-GCCcore-x.y.z  22) pybind11/2.4.3-GCCcore-x.y.z-Pytho...
 11) hwloc/2.2.0-GCCcore-x.y.z        23) SciPy-bundle/2020.03-foss-2020a-Py...
 12) libevent/2.1.11-GCCcore-x.y.z    24) networkx/2.4-foss-2020a-Python-3.x.y</code></pre>
</div>
<p>Die Verwendung von <code>module unload</code> “entlädt” also ein
Modul, und je nachdem, wie eine Site konfiguriert ist, kann es auch alle
Abhängigkeiten entladen (in unserem Fall nicht). Wenn wir alles auf
einmal entladen wollten, könnten wir <code>module purge</code> ausführen
(entlädt alles).</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] module purge</span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] module list</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>No modules loaded</code></pre>
</div>
<p>Beachten Sie, dass <code>module purge</code> informativ ist. Es teilt
uns auch mit, ob ein Standardsatz von “klebrigen” Paketen nicht entladen
werden kann (und wie man diese tatsächlich entlädt, wenn man das
wirklich möchte).</p>
<p>Beachten Sie, dass dieser Modulladeprozess hauptsächlich durch die
Manipulation von Umgebungsvariablen wie <code>$PATH</code> erfolgt.
Normalerweise ist nur ein geringer oder gar kein Datentransfer
beteiligt.</p>
<p>Der Modulladeprozess manipuliert auch andere spezielle
Umgebungsvariablen, einschließlich Variablen, die beeinflussen, wo das
System nach Softwarebibliotheken sucht, und manchmal Variablen, die
kommerziellen Softwarepaketen mitteilen, wo sie Lizenzserver finden.</p>
<p>Der Modulbefehl setzt auch diese Shell-Umgebungsvariablen in ihren
vorherigen Zustand zurück, wenn ein Modul entladen wird.</p>
</section><section><h2 class="section-heading" id="software-versionierung">Software-Versionierung<a class="anchor" aria-label="anchor" href="#software-versionierung"></a>
</h2>
<hr class="half-width">
<p>Bis jetzt haben wir gelernt, wie man Softwarepakete lädt und entlädt.
Das ist sehr nützlich. Wir haben uns jedoch noch nicht mit dem Thema der
Softwareversionierung befasst. Irgendwann werden Sie auf Probleme
stoßen, für die nur eine bestimmte Version einer Software geeignet ist.
Vielleicht wurde ein wichtiger Fehler nur in einer bestimmten Version
behoben, oder Version X ist nicht mehr mit einem von Ihnen verwendeten
Dateiformat kompatibel. In jedem dieser Fälle ist es hilfreich, sehr
genau zu wissen, welche Software geladen wird.</p>
<p>Schauen wir uns die Ausgabe von <code>module avail</code> näher
an.</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] module avail</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>~~~ /cvmfs/pilot.eessi-hpc.org/2020.12/software/x86_64/amd/zen2/modules/all ~~~
  Bazel/3.6.0-GCCcore-x.y.z              NSS/3.51-GCCcore-x.y.z
  Bison/3.5.3-GCCcore-x.y.z              Ninja/1.10.0-GCCcore-x.y.z
  Boost/1.72.0-gompi-2020a               OSU-Micro-Benchmarks/5.6.3-gompi-2020a
  CGAL/4.14.3-gompi-2020a-Python-3.x.y   OpenBLAS/0.3.9-GCC-x.y.z
  CMake/3.16.4-GCCcore-x.y.z             OpenFOAM/v2006-foss-2020a

[removed most of the output here for clarity]

  Where:
   L:        Module is loaded
   Aliases:  Aliases exist: foo/1.2.3 (1.2) means that "module load foo/1.2"
             will load foo/1.2.3
   D:        Default Module

Use "module spider" to find all possible modules and extensions.
Use "module keyword key1 key2 ..." to search for all possible modules matching
any of the "keys".</code></pre>
</div>
<div id="verwendung-von-software-modulen-in-skripten" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="verwendung-von-software-modulen-in-skripten" class="callout-inner">
<h3 class="callout-title">Verwendung von Software-Modulen in Skripten</h3>
<div class="callout-content">
<p>Erstellen Sie einen Job, der in der Lage ist,
<code>python3 --version</code> auszuführen. Denken Sie daran, dass
standardmäßig keine Software geladen ist! Das Ausführen eines Jobs ist
genau wie das Anmelden am System (Sie sollten nicht davon ausgehen, dass
ein auf dem Anmeldeknoten geladenes Modul auch auf einem Rechenknoten
geladen ist).</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Lösung
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] nano python-module.sh</span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] cat python-module.sh</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>#!/bin/bash
#SBATCH
r config$sched$comment` -t 00:00:30

module load Python

python3 --version</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] sbatch  python-module.sh</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Hauptpunkte</h3>
<div class="callout-content">
<ul>
<li>Software mit <code>module load softwareName</code> laden.</li>
<li>Entladen von Software mit <code>module unload</code>
</li>
<li>Das Modulsystem kümmert sich automatisch um Softwareversionen und
Paketkonflikte.</li>
</ul>
</div>
</div>
</div>
</section></section><section id="aio-16-transferring-files"><p>Content from <a href="16-transferring-files.html">Übertragen von Dateien mit entfernten Computern</a></p>
<hr>
<p>Zuletzt aktualisiert am 2025-08-04 |

        <a href="https://github.com/ocaisa/probable-pancake/edit/main/episodes/16-transferring-files.Rmd" class="external-link">Diese Seite bearbeiten <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Geschätzte Zeit: <i aria-hidden="true" data-feather="clock"></i> 30 Minuten</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Alle Lösungen anzeigen " data-collapse="Alle Lösungen ausblenden "> Alle Lösungen anzeigen <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Übersicht</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Fragen</h3>
<ul>
<li>Wie übertrage ich Dateien zum (und vom) Cluster?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Ziele</h3>
<ul>
<li>Übertragen Sie Dateien zu und von einem Computer-Cluster.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>Die Arbeit auf einem entfernten Computer ist nicht sehr nützlich,
wenn wir keine Dateien zum oder vom Cluster bekommen können. Es gibt
mehrere Optionen für die Übertragung von Daten zwischen
Computerressourcen mit Hilfe von CLI- und GUI-Dienstprogrammen, von
denen wir einige vorstellen werden.</p>
<section><h2 class="section-heading" id="herunterladen-von-lektionsdateien-aus-dem-internet">Herunterladen von Lektionsdateien aus dem Internet<a class="anchor" aria-label="anchor" href="#herunterladen-von-lektionsdateien-aus-dem-internet"></a>
</h2>
<hr class="half-width">
<p>Einer der einfachsten Wege, Dateien herunterzuladen, ist die
Verwendung von <code>curl</code> oder <code>wget</code>. Eines von
beiden ist normalerweise in den meisten Linux-Shells, auf Mac OS
Terminal und in GitBash installiert. Jede Datei, die über einen direkten
Link in Ihrem Webbrowser heruntergeladen werden kann, kann mit
<code>curl</code> oder <code>wget</code> heruntergeladen werden. Dies
ist ein schneller Weg, um Datensätze oder Quellcode herunterzuladen. Die
Syntax für diese Befehle lautet</p>
<ul>
<li><code>wget [-O new_name] https://some/link/to/a/file</code></li>
<li><code>curl [-o new_name] https://some/link/to/a/file</code></li>
</ul>
<p>Probieren Sie es aus, indem Sie etwas Material, das wir später
benutzen werden, von einem Terminal auf Ihrem lokalen Rechner
herunterladen, indem Sie die URL der aktuellen Codebase benutzen:</p>
<p><a href="https://github.com/hpc-carpentry/amdahl/tarball/main" class="external-link uri">https://github.com/hpc-carpentry/amdahl/tarball/main</a></p>
<div id="download-des-tarballs" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="download-des-tarballs" class="callout-inner">
<h3 class="callout-title">Download des “Tarballs”</h3>
<div class="callout-content">
<p>Das Wort “tarball” in der obigen URL bezieht sich auf ein
komprimiertes Archivformat, das häufig unter Linux verwendet wird, dem
Betriebssystem, mit dem die meisten HPC-Cluster-Maschinen arbeiten. Ein
Tarball ist vergleichbar mit einer <code>.zip</code>-Datei. Die
eigentliche Dateierweiterung lautet <code>.tar.gz</code>, was den
zweistufigen Prozess zur Erstellung der Datei widerspiegelt: Die Dateien
oder Ordner werden mit <code>tar</code> zu einer einzigen Datei
zusammengeführt, die dann mit <code>gzip</code> komprimiert wird, so
dass die Dateierweiterung “tar-dot-g-z” lautet Das ist etwas langatmig,
deshalb sagen die Leute stattdessen oft “der <em>xyz</em> Tarball”.</p>
<p>Sie können auch die Erweiterung <code>.tgz</code> sehen, was nur eine
Abkürzung für <code>.tar.gz</code> ist.</p>
<p>Standardmäßig laden <code>curl</code> und <code>wget</code> Dateien
unter demselben Namen wie die URL herunter: in diesem Fall
<code>main</code>. Verwenden Sie einen der oben genannten Befehle, um
den Tarball unter <code>amdahl.tar.gz</code> zu speichern.</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  wget und curl Befehle
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">[you@laptop:~]$</span> wget <span class="at">-O</span> amdahl.tar.gz https://github.com/hpc-carpentry/amdahl/tarball/main</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="co"># or</span></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="ex">[you@laptop:~]$</span> curl <span class="at">-o</span> amdahl.tar.gz <span class="at">-L</span> https://github.com/hpc-carpentry/amdahl/tarball/main</span></code></pre>
</div>
<p>Die Option <code>-L</code> für <code>curl</code> weist es an,
URL-Umleitungen zu folgen (was <code>wget</code> standardmäßig tut).</p>
</div>
</div>
</div>
</div>
<p>Nachdem Sie die Datei heruntergeladen haben, benutzen Sie
<code>ls</code>, um sie in Ihrem Arbeitsverzeichnis zu sehen:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="ex">[you@laptop:~]$</span> ls</span></code></pre>
</div>
</section><section><h2 class="section-heading" id="dateien-archivieren">Dateien archivieren<a class="anchor" aria-label="anchor" href="#dateien-archivieren"></a>
</h2>
<hr class="half-width">
<p>Eine der größten Herausforderungen bei der Übertragung von Daten
zwischen entfernten HPC-Systemen ist die große Anzahl von Dateien. Die
Übertragung jeder einzelnen Datei ist mit einem Overhead verbunden, und
wenn wir eine große Anzahl von Dateien übertragen, verlangsamen diese
Overheads unsere Übertragungen in hohem Maße.</p>
<p>Die Lösung für dieses Problem ist die <em>Archivierung</em> mehrerer
Dateien in eine kleinere Anzahl größerer Dateien, bevor wir die Daten
übertragen, um unsere Übertragungseffizienz zu verbessern. Manchmal wird
die Archivierung mit einer <em>Komprimierung</em> kombiniert, um die zu
übertragende Datenmenge zu verringern und so die Übertragung zu
beschleunigen. Der gebräuchlichste Archivierungsbefehl, den Sie auf
einem (Linux-)HPC-Cluster verwenden werden, ist <code>tar</code>.</p>
<p><code>tar</code> kann verwendet werden, um Dateien und Ordner zu
einer einzigen Archivdatei zusammenzufassen und das Ergebnis optional zu
komprimieren. Schauen wir uns die Datei an, die wir von der
Lektionsseite heruntergeladen haben, <code>amdahl.tar.gz</code>.</p>
<p>Der Teil <code>.gz</code> steht für <em>gzip</em>, eine
Kompressionsbibliothek. Es ist üblich (aber nicht notwendig!), dass
diese Art von Datei durch das Lesen ihres Namens interpretiert werden
kann: Es scheint, dass jemand Dateien und Ordner, die sich auf etwas
namens “amdahl” beziehen, in eine einzige Datei mit <code>tar</code>
verpackt hat und dann dieses Archiv mit <code>gzip</code> komprimiert
hat, um Platz zu sparen.</p>
<p>Schauen wir mal, ob das der Fall ist, <em>ohne</em> die Datei zu
entpacken. <code>tar</code> gibt das “<strong>t</strong>able of
contents” mit dem <code>-t</code> Flag aus, für die mit dem
<code>-f</code> Flag angegebene Datei, gefolgt vom Dateinamen. Beachten
Sie, dass Sie die beiden Flags verketten können: das Schreiben von
<code>-t -f</code> ist austauschbar mit dem Schreiben von
<code>-tf</code> zusammen. Allerdings muss das Argument nach
<code>-f</code> ein Dateiname sein, also funktioniert <code>-ft</code>
<em>nicht</em>.</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">[you@laptop:~]$</span> tar <span class="at">-tf</span> amdahl.tar.gz</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="ex">hpc-carpentry-amdahl-46c9b4b/</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="ex">hpc-carpentry-amdahl-46c9b4b/.github/</span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="ex">hpc-carpentry-amdahl-46c9b4b/.github/workflows/</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="ex">hpc-carpentry-amdahl-46c9b4b/.github/workflows/python-publish.yml</span></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a><span class="ex">hpc-carpentry-amdahl-46c9b4b/.gitignore</span></span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a><span class="ex">hpc-carpentry-amdahl-46c9b4b/LICENSE</span></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a><span class="ex">hpc-carpentry-amdahl-46c9b4b/README.md</span></span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a><span class="ex">hpc-carpentry-amdahl-46c9b4b/amdahl/</span></span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a><span class="ex">hpc-carpentry-amdahl-46c9b4b/amdahl/__init__.py</span></span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a><span class="ex">hpc-carpentry-amdahl-46c9b4b/amdahl/__main__.py</span></span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a><span class="ex">hpc-carpentry-amdahl-46c9b4b/amdahl/amdahl.py</span></span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a><span class="ex">hpc-carpentry-amdahl-46c9b4b/requirements.txt</span></span>
<span id="cb3-14"><a href="#cb3-14" tabindex="-1"></a><span class="ex">hpc-carpentry-amdahl-46c9b4b/setup.py</span></span></code></pre>
</div>
<p>Diese Beispielausgabe zeigt einen Ordner, der einige Dateien enthält,
wobei <code>46c9b4b</code> ein 8-stelliger <a href="https://swcarpentry.github.io/git-novice/" class="external-link">git</a> Commit-Hash
ist, der sich ändert, wenn das Quellmaterial aktualisiert wird.</p>
<p>Nun wollen wir das Archiv entpacken. Wir werden <code>tar</code> mit
ein paar üblichen Flags ausführen:</p>
<ul>
<li>
<code>-x</code> um das Archiv zu e<strong>x</strong>trahieren</li>
<li>
<code>-v</code> für eine <strong>v</strong>erböse Ausgabe</li>
<li>
<code>-z</code> für g<strong>z</strong>ip Kompression</li>
<li>
<code>-f «tarball»</code> für die zu entpackende Datei</li>
</ul>
<div id="entpacken-sie-das-archiv" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="entpacken-sie-das-archiv" class="callout-inner">
<h3 class="callout-title">Entpacken Sie das Archiv</h3>
<div class="callout-content">
<p>Entpacken Sie den Quellcode-Tarball mit den obigen Flags in ein neues
Verzeichnis mit dem Namen “amdahl” unter Verwendung von
<code>tar</code>.</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="ex">[you@laptop:~]$</span> tar <span class="at">-xvzf</span> amdahl.tar.gz</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>hpc-carpentry-amdahl-46c9b4b/
hpc-carpentry-amdahl-46c9b4b/.github/
hpc-carpentry-amdahl-46c9b4b/.github/workflows/
hpc-carpentry-amdahl-46c9b4b/.github/workflows/python-publish.yml
hpc-carpentry-amdahl-46c9b4b/.gitignore
hpc-carpentry-amdahl-46c9b4b/LICENSE
hpc-carpentry-amdahl-46c9b4b/README.md
hpc-carpentry-amdahl-46c9b4b/amdahl/
hpc-carpentry-amdahl-46c9b4b/amdahl/__init__.py
hpc-carpentry-amdahl-46c9b4b/amdahl/__main__.py
hpc-carpentry-amdahl-46c9b4b/amdahl/amdahl.py
hpc-carpentry-amdahl-46c9b4b/requirements.txt
hpc-carpentry-amdahl-46c9b4b/setup.py</code></pre>
</div>
<p>Beachten Sie, dass wir dank der Flaggenkonkatenation
<code>-x -v -z -f</code> nicht eingeben mussten, obwohl der Befehl in
beiden Fällen identisch funktioniert – solange die konkatenierte Liste
mit <code>f</code> endet, denn die nächste Zeichenkette muss den Namen
der zu extrahierenden Datei angeben.</p>
</div>
</div>
</div>
<p>Der Ordner hat einen unglücklichen Namen, also ändern wir ihn in
etwas Passenderes.</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="ex">[you@laptop:~]$</span> mv hpc-carpentry-amdahl-46c9b4b amdahl</span></code></pre>
</div>
<p>Überprüfen Sie die Größe des extrahierten Verzeichnisses und
vergleichen Sie sie mit der Größe der komprimierten Datei, indem Sie
<code>du</code> für “<strong>d</strong>isk <strong>u</strong>sage”
verwenden.</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="ex">[you@laptop:~]$</span> du <span class="at">-sh</span> amdahl.tar.gz</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="ex">8.0K</span>     amdahl.tar.gz</span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a><span class="ex">[you@laptop:~]$</span> du <span class="at">-sh</span> amdahl</span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="ex">48K</span>    amdahl</span></code></pre>
</div>
<p>Textdateien (einschließlich Python-Quellcode) lassen sich gut
komprimieren: der “Tarball” ist nur ein Sechstel so groß wie die
Rohdaten!</p>
<p>Wenn Sie den Prozess umkehren wollen - Rohdaten komprimieren statt
extrahieren - setzen Sie ein <code>c</code>-Flag anstelle von
<code>x</code>, setzen Sie den Dateinamen des Archivs und geben Sie dann
ein Verzeichnis zum Komprimieren an:</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="ex">[you@laptop:~]$</span> tar <span class="at">-cvzf</span> compressed_code.tar.gz amdahl</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>amdahl/
amdahl/.github/
amdahl/.github/workflows/
amdahl/.github/workflows/python-publish.yml
amdahl/.gitignore
amdahl/LICENSE
amdahl/README.md
amdahl/amdahl/
amdahl/amdahl/__init__.py
amdahl/amdahl/__main__.py
amdahl/amdahl/amdahl.py
amdahl/requirements.txt
amdahl/setup.py</code></pre>
</div>
<p>Wenn Sie im obigen Befehl <code>amdahl.tar.gz</code> als Dateinamen
angeben, wird <code>tar</code> den bestehenden Tarball mit allen
Änderungen, die Sie an den Dateien vorgenommen haben, aktualisieren. Das
würde bedeuten, dass der neue Ordner <code>amdahl</code> zu dem
<em>vorhandenen</em> Ordner (<code>hpc-carpentry-amdahl-46c9b4b</code>)
innerhalb des Tarballs hinzugefügt wird, was die Größe des Archivs
verdoppelt!</p>
<div id="arbeiten-mit-windows" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="arbeiten-mit-windows" class="callout-inner">
<h3 class="callout-title">Arbeiten mit Windows</h3>
<div class="callout-content">
<p>Wenn Sie Textdateien von einem Windows-System auf ein Unix-System
(Mac, Linux, BSD, Solaris, etc.) übertragen, kann dies zu Problemen
führen. Windows kodiert seine Dateien etwas anders als Unix und fügt in
jeder Zeile ein zusätzliches Zeichen ein.</p>
<p>Auf einem Unix-System endet jede Zeile in einer Datei mit einem
<code>\n</code> (Zeilenumbruch). Unter Windows endet jede Zeile in einer
Datei mit einem <code>\r\n</code> (Wagenrücklauf + Zeilenumbruch). Dies
verursacht manchmal Probleme.</p>
<p>Obwohl die meisten modernen Programmiersprachen und Software dies
korrekt handhaben, kann es in einigen seltenen Fällen zu Problemen
kommen. Die Lösung besteht darin, eine Datei mit dem Befehl
<code>dos2unix</code> von der Windows- in die Unix-Kodierung zu
konvertieren.</p>
<p>Sie können mit <code>cat -A filename</code> erkennen, ob eine Datei
Windows-Zeilenenden hat. Eine Datei mit Windows-Zeilenendungen hat
<code>^M$</code> am Ende jeder Zeile. Eine Datei mit Unix-Zeilenendungen
hat <code>$</code> am Ende einer Zeile.</p>
<p>Um die Datei zu konvertieren, führen Sie einfach
<code>dos2unix filename</code> aus. (Umgekehrt können Sie
<code>unix2dos filename</code> ausführen, um die Datei wieder in das
Windows-Format zu konvertieren)</p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="übertragen-von-einzelnen-dateien-und-ordnern-mit-scp">Übertragen von einzelnen Dateien und Ordnern mit
<code>scp</code>
<a class="anchor" aria-label="anchor" href="#%C3%BCbertragen-von-einzelnen-dateien-und-ordnern-mit-scp"></a>
</h2>
<hr class="half-width">
<p>Um eine einzelne Datei in oder aus dem Cluster zu kopieren, können
wir <code>scp</code> (“secure copy”) verwenden. Die Syntax kann für neue
Benutzer ein wenig kompliziert sein, aber wir werden sie aufschlüsseln.
Der <code>scp</code>-Befehl ist ein Verwandter des
<code>ssh</code>-Befehls, den wir für den Zugriff auf das System
verwendet haben, und kann denselben
Public-Key-Authentifizierungsmechanismus verwenden.</p>
<p>Um eine Datei auf einen anderen Computer <em>hochzuladen</em>, lautet
der Vorlagenbefehl</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="ex">[you@laptop:~]$</span> scp local_file yourUsername@cluster.hpc-carpentry.org:remote_destination</span></code></pre>
</div>
<p>an, wobei <code>@</code> und <code>:</code> Feldtrennzeichen sind und
<code>remote_destination</code> ein Pfad relativ zu Ihrem entfernten
Heimatverzeichnis oder ein neuer Dateiname ist, wenn Sie ihn ändern
möchten, oder sowohl ein relativer Pfad <em>als auch</em> ein neuer
Dateiname. Wenn Sie keinen bestimmten Ordner im Sinn haben, können Sie
das <code>remote_destination</code> weglassen und die Datei wird in Ihr
Heimatverzeichnis auf dem entfernten Computer kopiert (mit ihrem
ursprünglichen Namen). Wenn Sie ein <code>remote_destination</code>
einschließen, beachten Sie, dass <code>scp</code> dies genauso
interpretiert wie <code>cp</code> beim Erstellen von lokalen Kopien:
wenn es existiert und ein Ordner ist, wird die Datei in den Ordner
kopiert; wenn es existiert und eine Datei ist, wird die Datei mit dem
Inhalt von <code>local_file</code> überschrieben; wenn es nicht
existiert, wird angenommen, dass es ein Zieldateiname für
<code>local_file</code> ist.</p>
<p>So laden Sie das Unterrichtsmaterial in Ihr entferntes
Heimatverzeichnis hoch:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="ex">[you@laptop:~]$</span> scp amdahl.tar.gz yourUsername@cluster.hpc-carpentry.org:</span></code></pre>
</div>
<div id="warum-nicht-direkt-auf-hpc-carpentrys-cloud-cluster-herunterladen" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="warum-nicht-direkt-auf-hpc-carpentrys-cloud-cluster-herunterladen" class="callout-inner">
<h3 class="callout-title">Warum nicht direkt auf HPC Carpentry’s Cloud Cluster herunterladen?</h3>
<div class="callout-content">
<p>Die meisten Computer-Cluster sind durch eine <em>Firewall</em> vor
dem offenen Internet geschützt. Um die Sicherheit zu erhöhen, sind
einige so konfiguriert, dass sie Datenverkehr <em>eingehend</em>, aber
nicht <em>ausgehend</em> zulassen. Das bedeutet, dass ein
authentifizierter Benutzer eine Datei an einen Cluster-Rechner senden
kann, aber ein Cluster-Rechner kann keine Dateien vom Rechner eines
Benutzers oder dem offenen Internet abrufen.</p>
<p>Versuchen Sie, die Datei direkt herunterzuladen. Beachten Sie, dass
dies fehlschlagen kann, und das ist OK!</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">
  Befehle
  </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="ex">[you@laptop:~]$</span> ssh yourUsername@cluster.hpc-carpentry.org</span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] wget <span class="at">-O</span> amdahl.tar.gz https://github.com/hpc-carpentry/amdahl/tarball/main</span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a><span class="co"># or</span></span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] curl <span class="at">-o</span> amdahl.tar.gz https://github.com/hpc-carpentry/amdahl/tarball/main</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="warum-nicht-direkt-auf-hpc-carpentrys-cloud-cluster-herunterladen" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="warum-nicht-direkt-auf-hpc-carpentrys-cloud-cluster-herunterladen" class="callout-inner">
<h3 class="callout-title">Warum nicht direkt auf HPC Carpentry’s Cloud
Cluster herunterladen?<em> (continued)</em>
</h3>
<div class="callout-content">
<p>Hat es funktioniert? Wenn nicht, was sagt die Terminalausgabe über
den Vorgang aus?</p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="übertragen-eines-verzeichnisses">Übertragen eines Verzeichnisses<a class="anchor" aria-label="anchor" href="#%C3%BCbertragen-eines-verzeichnisses"></a>
</h2>
<hr class="half-width">
<p>Um ein ganzes Verzeichnis zu übertragen, fügen wir das Flag
<code>-r</code> für “<strong>r</strong>ecursive” hinzu: Kopieren Sie das
angegebene Element, und jedes Element darunter, und jedes Element
darunter… bis Sie das untere Ende des Verzeichnisbaums erreichen, dessen
Wurzel der von Ihnen angegebene Ordnername ist.</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="ex">[you@laptop:~]$</span> scp <span class="at">-r</span> amdahl yourUsername@cluster.hpc-carpentry.org:</span></code></pre>
</div>
<div id="vorsicht" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="vorsicht" class="callout-inner">
<h3 class="callout-title">Vorsicht</h3>
<div class="callout-content">
<p>Bei einem großen Verzeichnis – entweder in der Größe oder in der
Anzahl der Dateien – kann das Kopieren mit <code>-r</code> sehr lange
dauern, bis es abgeschlossen ist.</p>
</div>
</div>
</div>
<p>Bei der Verwendung von <code>scp</code> ist Ihnen vielleicht
aufgefallen, dass ein <code>:</code> <em>immer</em> dem Namen des
entfernten Computers folgt. Eine Zeichenkette <em>nach</em> dem
<code>:</code> gibt das entfernte Verzeichnis an, in das Sie die Datei
oder den Ordner übertragen wollen, einschließlich eines neuen Namens,
wenn Sie das entfernte Material umbenennen wollen. Wenn Sie dieses Feld
leer lassen, ist <code>scp</code> standardmäßig Ihr Heimatverzeichnis
und der Name des zu übertragenden lokalen Materials.</p>
<p>Auf Linux-Computern ist <code>/</code> das Trennzeichen in Datei-
oder Verzeichnispfaden. Ein Pfad, der mit <code>/</code> beginnt, wird
<em>absolut</em> genannt, da es nichts oberhalb der Wurzel
<code>/</code> geben kann. Ein Pfad, der nicht mit <code>/</code>
beginnt, wird <em>relativ</em> genannt, da er nicht an der Wurzel
verankert ist.</p>
<p>Wenn Sie eine Datei an einen Ort innerhalb Ihres Heimatverzeichnisses
hochladen wollen - was oft der Fall ist -, dann brauchen Sie kein
<em>führendes</em> <code>/</code>. Nach dem <code>:</code> können Sie
den Zielpfad relativ zu Ihrem Heimatverzeichnis angeben. Wenn Ihr
Heimatverzeichnis <em>das</em> Ziel ist, können Sie das Zielfeld leer
lassen oder der Vollständigkeit halber <code>~</code> - die Abkürzung
für Ihr Heimatverzeichnis - eingeben.</p>
<p>Mit <code>scp</code> ist ein abschließender Schrägstrich im
Zielverzeichnis optional und hat keine Auswirkungen. Ein nachgestellter
Schrägstrich im Quellverzeichnis ist wichtig für andere Befehle, wie
<code>rsync</code>.</p>
<div id="eine-anmerkung-zu-rsync" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="eine-anmerkung-zu-rsync" class="callout-inner">
<h3 class="callout-title">Eine Anmerkung zu <code>rsync</code>
</h3>
<div class="callout-content">
<p>Wenn Sie Erfahrung mit der Übertragung von Dateien haben, werden Sie
den Befehl <code>scp</code> vielleicht als einschränkend empfinden. Das
<a href="https://rsync.samba.org/" class="external-link">rsync</a> Dienstprogramm bietet
erweiterte Funktionen für die Dateiübertragung und ist in der Regel
schneller als <code>scp</code> und <code>sftp</code> (siehe unten). Es
ist besonders nützlich für die Übertragung von großen und/oder vielen
Dateien und für die Synchronisierung von Ordnerinhalten zwischen
Computern.</p>
<p>Die Syntax ist ähnlich wie bei <code>scp</code>. Zum Übertragen
<em>auf</em> einen anderen Computer mit häufig verwendeten Optionen:</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="ex">[you@laptop:~]$</span> rsync <span class="at">-avP</span> amdahl.tar.gz yourUsername@cluster.hpc-carpentry.org:</span></code></pre>
</div>
<p>Die Optionen sind:</p>
<ul>
<li>
<code>-a</code> (<strong>ein</strong>Archiv), um u.a.
Datei-Zeitstempel, Berechtigungen und Ordner zu erhalten; impliziert
Rekursion</li>
<li>
<code>-v</code> (<strong>v</strong>erbose), um eine ausführliche
Ausgabe zu erhalten, die Ihnen hilft, die Übertragung zu überwachen</li>
<li>
<code>-P</code> (partial/progress), um teilweise übertragene Dateien
im Falle einer Unterbrechung aufzubewahren und auch den Fortschritt der
Übertragung anzuzeigen.</li>
</ul>
<p>Um ein Verzeichnis rekursiv zu kopieren, können wir die gleichen
Optionen verwenden:</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="ex">[you@laptop:~]$</span> rsync <span class="at">-avP</span> amdahl yourUsername@cluster.hpc-carpentry.org:~/</span></code></pre>
</div>
<p>Wie geschrieben, wird das lokale Verzeichnis und sein Inhalt unter
Ihrem Heimatverzeichnis auf dem entfernten System abgelegt. Wenn ein
abschließender Schrägstrich an die Quelle angehängt wird, wird kein
neues Verzeichnis erstellt, das dem übertragenen Verzeichnis entspricht,
und der Inhalt des Quellverzeichnisses wird direkt in das
Zielverzeichnis kopiert.</p>
<p>Um eine Datei herunterzuladen, ändern wir einfach die Quelle und das
Ziel:</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="ex">[you@laptop:~]$</span> rsync <span class="at">-avP</span> yourUsername@cluster.hpc-carpentry.org:amdahl ./</span></code></pre>
</div>
</div>
</div>
</div>
<p>Dateiübertragungen, die sowohl <code>scp</code> als auch
<code>rsync</code> benutzen, verwenden SSH, um die über das Netzwerk
gesendeten Daten zu verschlüsseln. Wenn Sie also eine Verbindung über
SSH herstellen können, werden Sie in der Lage sein, Dateien zu
übertragen. SSH verwendet standardmäßig den Netzwerkanschluss 22. Wenn
ein benutzerdefinierter SSH-Port verwendet wird, müssen Sie ihn mit dem
entsprechenden Flag angeben, oft <code>-p</code>, <code>-P</code> oder
<code>--port</code>. Prüfen Sie <code>--help</code> oder die
<code>man</code> Seite, wenn Sie sich unsicher sind.</p>
<div id="ändern-sie-den-rsync-port" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="ändern-sie-den-rsync-port" class="callout-inner">
<h3 class="callout-title">Ändern Sie den Rsync-Port</h3>
<div class="callout-content">
<p>Angenommen, wir müssen <code>rsync</code> über Port 768 statt 22
verbinden. Wie würden wir diesen Befehl ändern?</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="ex">[you@laptop:~]$</span> rsync amdahl.tar.gz yourUsername@cluster.hpc-carpentry.org:</span></code></pre>
</div>
<p><em>Hinweis:</em> Sehen Sie auf der <code>man</code> Seite oder in
der “Hilfe” nach <code>rsync</code>.</p>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3">
  Lösung
  </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="ex">[you@laptop:~]$</span> man rsync</span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a><span class="ex">[you@laptop:~]$</span> rsync <span class="at">--help</span> <span class="kw">|</span> <span class="fu">grep</span> port</span>
<span id="cb18-3"><a href="#cb18-3" tabindex="-1"></a>     <span class="ex">--port=PORT</span>             specify double-colon alternate port number</span>
<span id="cb18-4"><a href="#cb18-4" tabindex="-1"></a><span class="ex">See</span> http://rsync.samba.org/ for updates, bug reports, and answers</span>
<span id="cb18-5"><a href="#cb18-5" tabindex="-1"></a><span class="ex">[you@laptop:~]$</span> rsync <span class="at">--port</span><span class="op">=</span>768 amdahl.tar.gz yourUsername@cluster.hpc-carpentry.org:</span></code></pre>
</div>
<p>(Beachten Sie, dass dieser Befehl fehlschlägt, da der korrekte Port
in diesem Fall der Standardwert ist: 22.)</p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="interaktives-übertragen-von-dateien-mit-filezilla">Interaktives Übertragen von Dateien mit FileZilla<a class="anchor" aria-label="anchor" href="#interaktives-%C3%BCbertragen-von-dateien-mit-filezilla"></a>
</h2>
<hr class="half-width">
<p>FileZilla ist ein plattformübergreifender Client für das
Herunterladen und Hochladen von Dateien auf und von einem entfernten
Computer. Er ist absolut narrensicher und funktioniert immer gut. Er
verwendet das <code>sftp</code>-Protokoll. Sie können mehr über die
Verwendung des <code>sftp</code>-Protokolls in der Kommandozeile in der
<a href="discuss.html">Lektionsdiskussion</a> lesen.</p>
<p>Laden Sie den FileZilla-Client von <a href="https://filezilla-project.org" class="external-link uri">https://filezilla-project.org</a> herunter und installieren
Sie ihn. Nach der Installation und dem Öffnen des Programms sollten Sie
auf der linken Seite des Bildschirms ein Fenster mit einem Dateibrowser
Ihres lokalen Systems sehen. Wenn Sie sich mit dem Cluster verbinden,
werden Ihre Clusterdateien auf der rechten Seite angezeigt.</p>
<p>Um sich mit dem Cluster zu verbinden, müssen wir nur unsere
Anmeldedaten oben auf dem Bildschirm eingeben:</p>
<ul>
<li>Host: <code>sftp://cluster.hpc-carpentry.org</code>
</li>
<li>Benutzer: Ihr Clusternutzername</li>
<li>Passwort: Ihr Clusterkennwort</li>
<li>Port: (leer lassen, um den Standardport zu verwenden)</li>
</ul>
<p>Drücken Sie “Quickconnect”, um eine Verbindung herzustellen. Ihre
entfernten Dateien sollten auf der rechten Seite des Bildschirms
angezeigt werden. Sie können Dateien per Drag-and-Drop zwischen der
linken (lokalen) und der rechten (entfernten) Seite des Bildschirms
verschieben, um Dateien zu übertragen.</p>
<p>Wenn Sie große Dateien (in der Regel größer als ein Gigabyte) von
einem entfernten Computer auf einen anderen übertragen müssen, melden
Sie sich per SSH auf dem Computer an, auf dem sich die Dateien befinden,
und verwenden Sie <code>scp</code> oder <code>rsync</code>, um die
Dateien auf den anderen Computer zu übertragen. Dies ist effizienter als
die Verwendung von FileZilla (oder ähnlichen Anwendungen), die von der
Quelle auf Ihren lokalen Rechner und dann auf den Zielrechner kopieren
würden.</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Hauptpunkte</h3>
<div class="callout-content">
<ul>
<li>
<code>wget</code> und <code>curl -O</code> laden eine Datei aus dem
Internet herunter.</li>
<li>
<code>scp</code> und <code>rsync</code> übertragen Dateien zu und
von Ihrem Computer.</li>
<li>Sie können einen SFTP-Client wie FileZilla verwenden, um Dateien
über eine grafische Benutzeroberfläche zu übertragen.</li>
</ul>
</div>
</div>
</div>
</section></section><section id="aio-17-parallel"><p>Content from <a href="17-parallel.html">Ausführen eines parallelen Auftrags</a></p>
<hr>
<p>Zuletzt aktualisiert am 2025-08-04 |

        <a href="https://github.com/ocaisa/probable-pancake/edit/main/episodes/17-parallel.Rmd" class="external-link">Diese Seite bearbeiten <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Geschätzte Zeit: <i aria-hidden="true" data-feather="clock"></i> 90 Minuten</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Alle Lösungen anzeigen " data-collapse="Alle Lösungen ausblenden "> Alle Lösungen anzeigen <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Übersicht</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Fragen</h3>
<ul>
<li>Wie kann man eine Aufgabe parallel ausführen?</li>
<li>Welche Vorteile ergeben sich aus der parallelen Ausführung?</li>
<li>Wo liegen die Grenzen des Gewinns bei paralleler Ausführung?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Ziele</h3>
<ul>
<li>Installieren Sie ein Python-Paket mit <code>pip</code>
</li>
<li>Bereiten Sie ein Auftragsskript für das parallele Programm vor.</li>
<li>Starten Sie Aufträge mit paralleler Ausführung.</li>
<li>Aufzeichnung und Zusammenfassung des Zeitplans und der Genauigkeit
von Aufträgen.</li>
<li>Beschreiben Sie die Beziehung zwischen Job-Parallelität und
Leistung.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>Wir haben jetzt die Werkzeuge, die wir brauchen, um einen
Multiprozessor-Job auszuführen. Dies ist ein sehr wichtiger Aspekt von
HPC-Systemen, da die Parallelität eines der wichtigsten Werkzeuge ist,
um die Leistung von Berechnungsaufgaben zu verbessern.</p>
<p>Wenn Sie die Verbindung getrennt haben, melden Sie sich wieder am
Cluster an.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">[you@laptop:~]$</span> ssh yourUsername@cluster.hpc-carpentry.org</span></code></pre>
</div>
<section><h2 class="section-heading" id="installieren-sie-das-amdahl-programm">Installieren Sie das Amdahl-Programm<a class="anchor" aria-label="anchor" href="#installieren-sie-das-amdahl-programm"></a>
</h2>
<hr class="half-width">
<p>Nachdem wir den Amdahl-Quellcode auf dem Cluster haben, können wir
ihn installieren, was den Zugriff auf die ausführbare Datei
<code>amdahl</code> ermöglicht. Wechseln Sie in das extrahierte
Verzeichnis und verwenden Sie dann den Package Installer für Python oder
<code>pip</code>, um es in Ihrem (“user”) Home-Verzeichnis zu
installieren:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] cd amdahl</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] python3 <span class="at">-m</span> pip install <span class="at">--user</span> .</span></code></pre>
</div>
<div id="amdahl-ist-python-code" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="amdahl-ist-python-code" class="callout-inner">
<h3 class="callout-title">Amdahl ist Python Code</h3>
<div class="callout-content">
<p>Das Amdahl-Programm ist in Python geschrieben, und um es zu
installieren oder zu benutzen, muss die ausführbare Datei
<code>python3</code> auf dem Anmeldeknoten gefunden werden. Wenn es
nicht gefunden werden kann, versuchen Sie, die verfügbaren Module mit
<code>module avail</code> aufzulisten, laden Sie das entsprechende Modul
und versuchen Sie den Befehl erneut.</p>
</div>
</div>
</div>
<div class="section level3">
<h3 id="mpi-für-python">MPI für Python<a class="anchor" aria-label="anchor" href="#mpi-f%C3%BCr-python"></a>
</h3>
<p>Der Amdahl-Code ist von einem Prozess abhängig:
<strong>mpi4py</strong>. Wenn es nicht bereits auf dem Cluster
installiert ist, wird <code>pip</code> versuchen, mpi4py aus dem
Internet zu holen und für Sie zu installieren. Wenn dies aufgrund einer
Einweg-Firewall fehlschlägt, müssen Sie mpi4py auf Ihrem lokalen Rechner
abrufen und hochladen, so wie wir es für Amdahl getan haben.</p>
<div id="abrufen-und-hochladen-von-mpi4py" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="abrufen-und-hochladen-von-mpi4py" class="callout-inner">
<h3 class="callout-title">Abrufen und Hochladen von
<code>mpi4py</code>
</h3>
<div class="callout-content">
<p>Wenn die Installation von Amdahl fehlgeschlagen ist, weil mpi4py
nicht installiert werden konnte, rufen Sie das Tarball von <a href="https://github.com/mpi4py/mpi4py/tarball/master" class="external-link uri">https://github.com/mpi4py/mpi4py/tarball/master</a> ab,
synchronisieren Sie es anschließend per <code>rsync</code> mit dem
Cluster, extrahieren Sie es und installieren Sie es:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">[you@laptop:~]$</span> wget <span class="at">-O</span> mpi4py.tar.gz https://github.com/mpi4py/mpi4py/releases/download/3.1.4/mpi4py-3.1.4.tar.gz</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="ex">[you@laptop:~]$</span> scp mpi4py.tar.gz yourUsername@cluster.hpc-carpentry.org:</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="co"># or</span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="ex">[you@laptop:~]$</span> rsync <span class="at">-avP</span> mpi4py.tar.gz yourUsername@cluster.hpc-carpentry.org:</span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="ex">[you@laptop:~]$</span> ssh yourUsername@cluster.hpc-carpentry.org</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] tar <span class="at">-xvzf</span> mpi4py.tar.gz  <span class="co"># extract the archive</span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] mv mpi4py<span class="pp">*</span> mpi4py        <span class="co"># rename the directory</span></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] cd mpi4py</span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] python3 <span class="at">-m</span> pip install <span class="at">--user</span> .</span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] cd ../amdahl</span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] python3 <span class="at">-m</span> pip install <span class="at">--user</span> .</span></code></pre>
</div>
</div>
</div>
</div>
<div id="wenn-pip-eine-warnung-auslöst" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="wenn-pip-eine-warnung-auslöst" class="callout-inner">
<h3 class="callout-title">Wenn <code>pip</code> eine Warnung
auslöst…</h3>
<div class="callout-content">
<p><code>pip</code> kann eine Warnung ausgeben, dass die Binärdateien
Ihres Benutzerpakets nicht in Ihrem PATH sind.</p>
<div class="codewrapper">
<h3 class="code-label">WARNUNG<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="warning" tabindex="0"><code>WARNING: The script amdahl is installed in "${HOME}/.local/bin" which is
not on PATH. Consider adding this directory to PATH or, if you prefer to
suppress this warning, use --no-warn-script-location.</code></pre>
</div>
<p>Um zu überprüfen, ob diese Warnung ein Problem darstellt, verwenden
Sie <code>which</code>, um nach dem Programm <code>amdahl</code> zu
suchen:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] which amdahl</span></code></pre>
</div>
<p>Wenn der Befehl keine Ausgabe liefert und eine neue
Eingabeaufforderung anzeigt, bedeutet dies, dass die Datei
<code>amdahl</code> nicht gefunden wurde. Sie müssen die
Umgebungsvariable mit dem Namen <code>PATH</code> aktualisieren, um den
fehlenden Ordner aufzunehmen. Bearbeiten Sie Ihre
Shell-Konfigurationsdatei wie folgt, melden Sie sich dann vom Cluster ab
und wieder an, damit die Änderung wirksam wird.</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] nano ~/.bashrc</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] tail ~/.bashrc</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>export PATH=${PATH}:${HOME}/.local/bin</code></pre>
</div>
<p>Nachdem Sie sich wieder bei cluster.hpc-carpentry.org angemeldet
haben, sollte <code>which</code> in der Lage sein, <code>amdahl</code>
ohne Schwierigkeiten zu finden. Wenn Sie ein Python-Modul laden mussten,
laden Sie es erneut.</p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="hilfe">Hilfe!<a class="anchor" aria-label="anchor" href="#hilfe"></a>
</h2>
<hr class="half-width">
<p>Viele Befehlszeilenprogramme enthalten eine “Hilfe”-Meldung.
Probieren Sie es mit <code>amdahl</code>:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] amdahl <span class="at">--help</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>usage: amdahl [-h] [-p [PARALLEL_PROPORTION]] [-w [WORK_SECONDS]] [-t] [-e] [-j [JITTER_PROPORTION]]

optional arguments:
  -h, --help            show this help message and exit
  -p [PARALLEL_PROPORTION], --parallel-proportion [PARALLEL_PROPORTION]
                        Parallel proportion: a float between 0 and 1
  -w [WORK_SECONDS], --work-seconds [WORK_SECONDS]
                        Total seconds of workload: an integer greater than 0
  -t, --terse           Format output as a machine-readable object for easier analysis
  -e, --exact           Exactly match requested timing by disabling random jitter
  -j [JITTER_PROPORTION], --jitter-proportion [JITTER_PROPORTION]
                        Random jitter: a float between -1 and +1</code></pre>
</div>
<p>Diese Nachricht sagt nicht viel darüber aus, was das Programm
<em>tut</em>, aber sie teilt uns die wichtigen Flags mit, die wir beim
Start des Programms verwenden sollten.</p>
</section><section><h2 class="section-heading" id="ausführen-des-jobs-auf-einem-rechenknoten">Ausführen des Jobs auf einem Rechenknoten<a class="anchor" aria-label="anchor" href="#ausf%C3%BChren-des-jobs-auf-einem-rechenknoten"></a>
</h2>
<hr class="half-width">
<p>Erstellen Sie eine Einreichungsdatei, die eine Aufgabe auf einem
einzigen Knoten anfordert, und starten Sie sie.</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] nano serial-job.sh</span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] cat serial-job.sh</span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a><span class="co">#SBATCH -J solo-job</span></span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a><span class="co">#SBATCH -p cpubase_bycore_b1</span></span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a><span class="co">#SBATCH -N 1</span></span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a><span class="co">#SBATCH -n 1</span></span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a></span>
<span id="cb12-7"><a href="#cb12-7" tabindex="-1"></a><span class="co"># Load the computing environment we need</span></span>
<span id="cb12-8"><a href="#cb12-8" tabindex="-1"></a><span class="ex">module</span> load Python</span>
<span id="cb12-9"><a href="#cb12-9" tabindex="-1"></a></span>
<span id="cb12-10"><a href="#cb12-10" tabindex="-1"></a><span class="co"># Execute the task</span></span>
<span id="cb12-11"><a href="#cb12-11" tabindex="-1"></a><span class="ex">amdahl</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] sbatch serial-job.sh</span></code></pre>
</div>
<p>Verwenden Sie wie bisher die Statusbefehle Slurm, um zu überprüfen,
ob Ihr Auftrag läuft und wann er endet:</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] squeue <span class="at">-u</span> yourUsername</span></code></pre>
</div>
<p>Verwenden Sie <code>ls</code>, um die Ausgabedatei zu finden. Das
Flag <code>-t</code> sortiert in umgekehrter chronologischer
Reihenfolge: das Neueste zuerst. Wie lautete die Ausgabe?</p>
<div id="accordionSpoiler1" class="accordion spoiler-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button spoiler-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSpoiler1" aria-expanded="false" aria-controls="collapseSpoiler1">
  <h3 class="accordion-header" id="headingSpoiler1">
  <div class="note-square"><i aria-hidden="true" class="callout-icon" data-feather="eye"></i></div>
  Lesen der Job-Ausgabe
  </h3>
</button>
<div id="collapseSpoiler1" class="accordion-collapse collapse" data-bs-parent="#accordionSpoiler1" aria-labelledby="headingSpoiler1">
<div class="accordion-body">
<p>Die Cluster-Ausgabe sollte in eine Datei in dem Ordner geschrieben
werden, aus dem Sie den Job gestartet haben. Zum Beispiel,</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] ls <span class="at">-t</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>slurm-347087.out  serial-job.sh  amdahl  README.md  LICENSE.txt</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] cat slurm-347087.out</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Doing 30.000 seconds of 'work' on 1 processor,
which should take 30.000 seconds with 0.850 parallel proportion of the workload.

  Hello, World! I am process 0 of 1 on smnode1. I will do all the serial 'work' for 4.500 seconds.
  Hello, World! I am process 0 of 1 on smnode1. I will do parallel 'work' for 25.500 seconds.

Total execution time (according to rank 0): 30.033 seconds</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>Wie wir bereits gesehen haben, legen zwei der
<code>amdahl</code>-Programmflags die Menge der Arbeit und den Anteil
der parallelen Arbeit fest. Anhand der Ausgabe können wir sehen, dass
der Code eine Vorgabe von 30 Sekunden Arbeit verwendet, die zu 85 %
parallel ist. Das Programm lief insgesamt etwas über 30 Sekunden, und
wenn wir die Zahlen durchgehen, stimmt es, dass 15 % davon als “seriell”
und 85 % als “parallel” gekennzeichnet waren.</p>
<p>Da wir dem Job nur eine CPU zugewiesen haben, war dieser Job nicht
wirklich parallel: derselbe Prozessor führte die “serielle” Arbeit 4,5
Sekunden lang aus, dann den “parallelen” Teil 25,5 Sekunden lang, und es
wurde keine Zeit gespart. Der Cluster kann es besser, wenn wir ihn
fragen.</p>
</section><section><h2 class="section-heading" id="ausführen-des-parallelen-jobs">Ausführen des parallelen Jobs<a class="anchor" aria-label="anchor" href="#ausf%C3%BChren-des-parallelen-jobs"></a>
</h2>
<hr class="half-width">
<p>Das Programm <code>amdahl</code> verwendet das Message Passing
Interface (MPI) für die Parallelität - ein gängiges Werkzeug auf
HPC-Systemen.</p>
<div id="was-ist-mpi" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="was-ist-mpi" class="callout-inner">
<h3 class="callout-title">Was ist MPI?</h3>
<div class="callout-content">
<p>Das Message Passing Interface ist eine Reihe von Werkzeugen, die es
mehreren gleichzeitig laufenden Aufgaben ermöglichen, miteinander zu
kommunizieren. Typischerweise wird eine einzelne ausführbare Datei
mehrfach ausgeführt, möglicherweise auf verschiedenen Rechnern, und die
MPI-Werkzeuge werden verwendet, um jede Instanz der ausführbaren Datei
über ihre Geschwisterprozesse und die jeweilige Instanz zu informieren.
MPI bietet auch Werkzeuge für die Kommunikation zwischen Instanzen, um
die Arbeit zu koordinieren, Informationen über Elemente der Aufgabe
auszutauschen oder Daten zu übertragen. Eine MPI-Instanz hat
normalerweise ihre eigene Kopie aller lokalen Variablen.</p>
</div>
</div>
</div>
<p>Während MPI-fähige ausführbare Programme im Allgemeinen als
eigenständige Programme ausgeführt werden können, müssen sie, um
parallel ausgeführt werden zu können, eine MPI <em>Laufzeitumgebung</em>
verwenden, bei der es sich um eine spezielle Implementierung des MPI
<em>Standards</em> handelt. Um die MPI-Umgebung zu aktivieren, sollte
das Programm mit einem Befehl wie <code>mpiexec</code> (oder
<code>mpirun</code>, oder <code>srun</code>, usw., je nach der zu
verwendenden MPI-Laufzeitumgebung) gestartet werden, wodurch
sichergestellt wird, dass die entsprechende Laufzeitunterstützung für
Parallelität enthalten ist.</p>
<div id="mpi-laufzeitargumente" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="mpi-laufzeitargumente" class="callout-inner">
<h3 class="callout-title">MPI Laufzeitargumente</h3>
<div class="callout-content">
<p>Befehle wie <code>mpiexec</code> können viele Argumente annehmen, die
angeben, wie viele Maschinen an der Ausführung teilnehmen sollen, und
Sie benötigen diese Argumente, wenn Sie ein MPI-Programm alleine
ausführen möchten (z. B. auf Ihrem Laptop). Im Zusammenhang mit einem
Warteschlangensystem ist es jedoch häufig der Fall, dass die
MPI-Laufzeit die notwendigen Parameter vom Warteschlangensystem erhält,
indem sie die Umgebungsvariablen untersucht, die beim Start des Auftrags
gesetzt wurden.</p>
</div>
</div>
</div>
<p>Ändern wir das Jobskript, um mehr Kerne anzufordern und die
MPI-Laufzeit zu nutzen.</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] cp serial-job.sh parallel-job.sh</span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] nano parallel-job.sh</span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] cat parallel-job.sh</span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a><span class="co">#SBATCH -J parallel-job</span></span>
<span id="cb20-3"><a href="#cb20-3" tabindex="-1"></a><span class="co">#SBATCH -p cpubase_bycore_b1</span></span>
<span id="cb20-4"><a href="#cb20-4" tabindex="-1"></a><span class="co">#SBATCH -N 1</span></span>
<span id="cb20-5"><a href="#cb20-5" tabindex="-1"></a><span class="co">#SBATCH -n 4</span></span>
<span id="cb20-6"><a href="#cb20-6" tabindex="-1"></a></span>
<span id="cb20-7"><a href="#cb20-7" tabindex="-1"></a><span class="co"># Load the computing environment we need</span></span>
<span id="cb20-8"><a href="#cb20-8" tabindex="-1"></a><span class="co"># (mpi4py and numpy are in SciPy-bundle)</span></span>
<span id="cb20-9"><a href="#cb20-9" tabindex="-1"></a><span class="ex">module</span> load Python</span>
<span id="cb20-10"><a href="#cb20-10" tabindex="-1"></a><span class="ex">module</span> load SciPy-bundle</span>
<span id="cb20-11"><a href="#cb20-11" tabindex="-1"></a></span>
<span id="cb20-12"><a href="#cb20-12" tabindex="-1"></a><span class="co"># Execute the task</span></span>
<span id="cb20-13"><a href="#cb20-13" tabindex="-1"></a><span class="ex">mpiexec</span> amdahl</span></code></pre>
</div>
<p>Senden Sie dann Ihren Auftrag ab. Beachten Sie, dass sich der
Übermittlungsbefehl im Vergleich zur Übermittlung des seriellen Auftrags
nicht wirklich geändert hat: Alle parallelen Einstellungen befinden sich
in der Batch-Datei und nicht in der Befehlszeile.</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] sbatch parallel-job.sh</span></code></pre>
</div>
<p>Verwenden Sie wie bisher die Statusbefehle, um zu überprüfen, wann
Ihr Auftrag läuft.</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] ls <span class="at">-t</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>slurm-347178.out  parallel-job.sh  slurm-347087.out  serial-job.sh  amdahl  README.md  LICENSE.txt</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] cat slurm-347178.out</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Doing 30.000 seconds of 'work' on 4 processors,
which should take 10.875 seconds with 0.850 parallel proportion of the workload.

  Hello, World! I am process 0 of 4 on smnode1. I will do all the serial 'work' for 4.500 seconds.
  Hello, World! I am process 2 of 4 on smnode1. I will do parallel 'work' for 6.375 seconds.
  Hello, World! I am process 1 of 4 on smnode1. I will do parallel 'work' for 6.375 seconds.
  Hello, World! I am process 3 of 4 on smnode1. I will do parallel 'work' for 6.375 seconds.
  Hello, World! I am process 0 of 4 on smnode1. I will do parallel 'work' for 6.375 seconds.

Total execution time (according to rank 0): 10.888 seconds</code></pre>
</div>
<div id="ist-es-4-schneller" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="ist-es-4-schneller" class="callout-inner">
<h3 class="callout-title">Ist es 4× schneller?</h3>
<div class="callout-content">
<p>Der parallele Auftrag erhielt 4× mehr Prozessoren als der serielle
Auftrag: Bedeutet das, dass er in ¼ der Zeit fertig wurde?</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Lösung
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<p>Der parallele Auftrag hat <em>weniger</em> Zeit benötigt: 11 Sekunden
sind besser als 30! Aber es ist nur eine 2,7-fache Verbesserung, nicht
eine 4-fache.</p>
<p>Sehen Sie sich die Ausgabe des Jobs an:</p>
<ul>
<li>Während “Prozess 0” serielle Arbeit verrichtete, erledigten die
Prozesse 1 bis 3 ihre parallele Arbeit.</li>
<li>Während Prozess 0 seine parallele Arbeit nachholte, tat der Rest gar
nichts.</li>
</ul>
<p>Prozess 0 muss immer erst seine serielle Aufgabe beenden, bevor er
mit der parallelen Arbeit beginnen kann. Damit wird eine untere Grenze
für die Zeit gesetzt, die diese Aufgabe benötigt, egal wie viele Kerne
man ihr zuordnet.</p>
<p>Dies ist das Grundprinzip des <a href="https://en.wikipedia.org/wiki/Amdahl's_law" class="external-link">Amdahl’schen
Gesetzes</a>, das eine Möglichkeit ist, Verbesserungen der
Ausführungszeit für eine <strong>feste</strong> Arbeitslast
vorherzusagen, die bis zu einem gewissen Grad unterteilt und parallel
ausgeführt werden kann.</p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="wie-stark-verbessert-die-parallele-ausführung-die-leistung">Wie stark verbessert die parallele Ausführung die Leistung?<a class="anchor" aria-label="anchor" href="#wie-stark-verbessert-die-parallele-ausf%C3%BChrung-die-leistung"></a>
</h2>
<hr class="half-width">
<p>Theoretisch sollte die Aufteilung einer perfekt parallelen Berechnung
auf <em>n</em> MPI-Prozesse zu einer Verringerung der Gesamtlaufzeit um
den Faktor <em>n</em> führen. Wie wir soeben gesehen haben, benötigen
reale Programme eine gewisse Zeit, damit die MPI-Prozesse kommunizieren
und sich koordinieren können, und einige Arten von Berechnungen können
nicht aufgeteilt werden: Sie laufen effektiv nur auf einer einzigen
CPU.</p>
<p>Wenn die MPI-Prozesse auf verschiedenen physischen CPUs im Computer
oder auf mehreren Rechenknoten arbeiten, wird sogar mehr Zeit für die
Kommunikation benötigt, als wenn alle Prozesse auf einer einzigen CPU
arbeiten.</p>
<p>In der Praxis ist es üblich, die Parallelität eines MPI-Programms wie
folgt zu bewerten</p>
<ul>
<li>das Programm über einen Bereich von CPU-Zahlen laufen,</li>
<li>Aufzeichnung der Ausführungszeit bei jedem Durchlauf,</li>
<li>Vergleich der jeweiligen Ausführungszeit mit der Zeit bei Verwendung
einer einzigen CPU.</li>
</ul>
<p>Da “mehr besser ist” - eine Verbesserung ist leichter zu
interpretieren, wenn eine bestimmte Größe zunimmt, als wenn sie abnimmt
- werden Vergleiche mit dem Beschleunigungsfaktor <em>S</em>
durchgeführt, der als die Ausführungszeit auf einer CPU geteilt durch
die Ausführungszeit auf mehreren CPUs berechnet wird. Für ein perfekt
paralleles Programm würde ein Diagramm des Beschleunigungsfaktors
<em>S</em> gegen die Anzahl der CPUs <em>n</em> eine gerade Linie
ergeben, <em>S</em> = <em>n</em>.</p>
<p>Lassen wir einen weiteren Job laufen, damit wir sehen können, wie
nahe unser <code>amdahl</code>-Code einer geraden Linie kommt.</p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] nano parallel-job.sh</span>
<span id="cb26-2"><a href="#cb26-2" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] cat parallel-job.sh</span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb27-2"><a href="#cb27-2" tabindex="-1"></a><span class="co">#SBATCH -J parallel-job</span></span>
<span id="cb27-3"><a href="#cb27-3" tabindex="-1"></a><span class="co">#SBATCH -p cpubase_bycore_b1</span></span>
<span id="cb27-4"><a href="#cb27-4" tabindex="-1"></a><span class="co">#SBATCH -N 1</span></span>
<span id="cb27-5"><a href="#cb27-5" tabindex="-1"></a><span class="co">#SBATCH -n 8</span></span>
<span id="cb27-6"><a href="#cb27-6" tabindex="-1"></a></span>
<span id="cb27-7"><a href="#cb27-7" tabindex="-1"></a><span class="co"># Load the computing environment we need</span></span>
<span id="cb27-8"><a href="#cb27-8" tabindex="-1"></a><span class="co"># (mpi4py and numpy are in SciPy-bundle)</span></span>
<span id="cb27-9"><a href="#cb27-9" tabindex="-1"></a><span class="ex">module</span> load Python</span>
<span id="cb27-10"><a href="#cb27-10" tabindex="-1"></a><span class="ex">module</span> load SciPy-bundle</span>
<span id="cb27-11"><a href="#cb27-11" tabindex="-1"></a></span>
<span id="cb27-12"><a href="#cb27-12" tabindex="-1"></a><span class="co"># Execute the task</span></span>
<span id="cb27-13"><a href="#cb27-13" tabindex="-1"></a><span class="ex">mpiexec</span> amdahl</span></code></pre>
</div>
<p>Senden Sie dann Ihren Auftrag ab. Beachten Sie, dass sich der
Übermittlungsbefehl im Vergleich zur Übermittlung des seriellen Auftrags
nicht wirklich geändert hat: Alle parallelen Einstellungen befinden sich
in der Batch-Datei und nicht in der Befehlszeile.</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] sbatch parallel-job.sh</span></code></pre>
</div>
<p>Verwenden Sie wie bisher die Statusbefehle, um zu überprüfen, wann
Ihr Auftrag läuft.</p>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] ls <span class="at">-t</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>slurm-347271.out  parallel-job.sh  slurm-347178.out  slurm-347087.out  serial-job.sh  amdahl  README.md  LICENSE.txt</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] cat slurm-347178.out</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>which should take 7.688 seconds with 0.850 parallel proportion of the workload.

  Hello, World! I am process 4 of 8 on smnode1. I will do parallel 'work' for 3.188 seconds.
  Hello, World! I am process 0 of 8 on smnode1. I will do all the serial 'work' for 4.500 seconds.
  Hello, World! I am process 2 of 8 on smnode1. I will do parallel 'work' for 3.188 seconds.
  Hello, World! I am process 1 of 8 on smnode1. I will do parallel 'work' for 3.188 seconds.
  Hello, World! I am process 3 of 8 on smnode1. I will do parallel 'work' for 3.188 seconds.
  Hello, World! I am process 5 of 8 on smnode1. I will do parallel 'work' for 3.188 seconds.
  Hello, World! I am process 6 of 8 on smnode1. I will do parallel 'work' for 3.188 seconds.
  Hello, World! I am process 7 of 8 on smnode1. I will do parallel 'work' for 3.188 seconds.
  Hello, World! I am process 0 of 8 on smnode1. I will do parallel 'work' for 3.188 seconds.

Total execution time (according to rank 0): 7.697 seconds</code></pre>
</div>
<div id="nicht-lineare-ausgabe" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="nicht-lineare-ausgabe" class="callout-inner">
<h3 class="callout-title">Nicht-lineare Ausgabe</h3>
<div class="callout-content">
<p>Wenn wir den Job mit 4 parallelen Arbeitern ausgeführt haben, hat der
serielle Job zuerst seine Ausgabe geschrieben, dann haben die parallelen
Prozesse ihre Ausgabe geschrieben, wobei Prozess 0 zuerst und zuletzt
kam.</p>
<p>Bei 8 Workern ist dies nicht der Fall: Da die parallelen Worker
weniger Zeit benötigen als die seriellen, ist es schwer zu sagen,
welcher Prozess seine Ausgabe zuerst schreiben wird, außer dass es
<em>nicht</em> Prozess 0 sein wird!</p>
</div>
</div>
</div>
<p>Fassen wir nun die Zeit zusammen, die jeder Job für seine Ausführung
benötigt hat:</p>
<table class="table">
<thead><tr class="header">
<th>Number of CPUs</th>
<th>Runtime (sec)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>30.033</td>
</tr>
<tr class="even">
<td>4</td>
<td>10.888</td>
</tr>
<tr class="odd">
<td>8</td>
<td>7.697</td>
</tr>
</tbody>
</table>
<p>Dann verwenden Sie die erste Zeile, um die Geschwindigkeitssteigerung
<span class="math inline">\(S\)</span> zu berechnen, indem Sie Python
als Befehlszeilenrechner und die Formel</p>
<p><span class="math display">\[ S(t_{n}) = \frac{t_{1}}{t_{n}}
\]</span></p>
<div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] for n in 30.033 10.888 7.697<span class="kw">;</span> <span class="cf">do</span> <span class="ex">python3</span> <span class="at">-c</span> <span class="st">"print(30.033 / </span><span class="va">$n</span><span class="st">)"</span><span class="kw">;</span> <span class="cf">done</span></span></code></pre>
</div>
<table class="table">
<thead><tr class="header">
<th>Number of CPUs</th>
<th>Speedup</th>
<th>Ideal</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>1.0</td>
<td>1</td>
</tr>
<tr class="even">
<td>4</td>
<td>2.75</td>
<td>4</td>
</tr>
<tr class="odd">
<td>8</td>
<td>3.90</td>
<td>8</td>
</tr>
</tbody>
</table>
<p>Aus den Job-Ausgabedateien geht hervor, dass dieses Programm 85 %
seiner Arbeit parallel ausführt und 15 % seriell abläuft. Dies scheint
recht hoch zu sein, aber unsere schnelle Untersuchung der Beschleunigung
zeigt, dass wir 8 oder 9 Prozessoren parallel verwenden müssen, um eine
4fache Beschleunigung zu erreichen. In realen Programmen wird der
Beschleunigungsfaktor beeinflusst durch</p>
<ul>
<li>CPU-Design</li>
<li>Kommunikationsnetz zwischen Rechenknoten</li>
<li>Implementierungen der MPI-Bibliothek</li>
<li>Einzelheiten zum MPI-Programm selbst</li>
</ul>
<p>Mit Hilfe des Amdahlschen Gesetzes können Sie beweisen, dass es
<em>unmöglich</em> ist, mit diesem Programm eine 8-fache Beschleunigung
zu erreichen, egal wie viele Prozessoren Sie zur Verfügung haben. Die
Einzelheiten dieser Analyse mit den entsprechenden Ergebnissen werden in
der nächsten Klasse des HPC Carpentry Workshops <em>HPC Workflows</em>
behandelt.</p>
<p>In einer HPC-Umgebung versuchen wir, die Ausführungszeit für alle
Arten von Aufträgen zu reduzieren, und MPI ist eine sehr gängige
Methode, um Dutzende, Hunderte oder Tausende von CPUs zur Lösung eines
einzigen Problems zu kombinieren. Um mehr über Parallelisierung zu
erfahren, lesen Sie die Lektion <a href="https://www.hpc-carpentry.org/hpc-parallel-novice/" class="external-link">parallel-novice</a>.</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Hauptpunkte</h3>
<div class="callout-content">
<ul>
<li>Parallele Programmierung ermöglicht es Anwendungen, die Vorteile
paralleler Hardware zu nutzen.</li>
<li>Das Warteschlangensystem erleichtert die Ausführung von parallelen
Aufgaben.</li>
<li>Leistungssteigerungen durch parallele Ausführung skalieren nicht
linear.</li>
</ul>
</div>
</div>
</div>
</section></section><section id="aio-18-resources"><p>Content from <a href="18-resources.html">Effektive Nutzung von Ressourcen</a></p>
<hr>
<p>Zuletzt aktualisiert am 2025-08-04 |

        <a href="https://github.com/ocaisa/probable-pancake/edit/main/episodes/18-resources.Rmd" class="external-link">Diese Seite bearbeiten <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Geschätzte Zeit: <i aria-hidden="true" data-feather="clock"></i> 30 Minuten</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Alle Lösungen anzeigen " data-collapse="Alle Lösungen ausblenden "> Alle Lösungen anzeigen <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Übersicht</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Fragen</h3>
<ul>
<li>Wie kann ich vergangene Aufträge überprüfen?</li>
<li>Wie kann ich dieses Wissen nutzen, um ein genaueres
Einreichungsskript zu erstellen?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Ziele</h3>
<ul>
<li>Job-Statistiken nachschlagen.</li>
<li>Stellen Sie genauere Ressourcenanforderungen in Jobskripten auf der
Grundlage von Daten, die die vergangene Leistung beschreiben.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>Wir haben alle Fertigkeiten behandelt, die Sie für die Interaktion
mit einem HPC-Cluster benötigen: Anmeldung über SSH, Laden von
Softwaremodulen, Übermittlung paralleler Aufträge und Auffinden der
Ausgabe. Jetzt geht es darum, die Ressourcennutzung abzuschätzen und zu
verstehen, warum das wichtig sein kann.</p>
<section><h2 class="section-heading" id="schätzung-der-benötigten-ressourcen-durch-den-scheduler">Schätzung der benötigten Ressourcen durch den Scheduler<a class="anchor" aria-label="anchor" href="#sch%C3%A4tzung-der-ben%C3%B6tigten-ressourcen-durch-den-scheduler"></a>
</h2>
<hr class="half-width">
<p>Auch wenn wir die Anforderung von Ressourcen beim Scheduler bereits
mit dem π-Code behandelt haben, woher wissen wir, welche Art von
Ressourcen die Software überhaupt benötigt und welchen Bedarf sie
jeweils hat? Im Allgemeinen wissen wir nicht, wie viel Arbeitsspeicher
oder Rechenzeit ein Programm benötigen wird, es sei denn, die
Software-Dokumentation oder Benutzerberichte geben uns eine Vorstellung
davon.</p>
<div id="lesen-sie-die-dokumentation" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="lesen-sie-die-dokumentation" class="callout-inner">
<h3 class="callout-title">Lesen Sie die Dokumentation</h3>
<div class="callout-content">
<p>Die meisten HPC-Einrichtungen verfügen über eine Dokumentation in
Form eines Wikis, einer Website oder eines Dokuments, das Ihnen bei der
Registrierung für ein Konto zugeschickt wird. Werfen Sie einen Blick auf
diese Ressourcen und suchen Sie nach der Software, die Sie verwenden
möchten: Vielleicht hat jemand eine Anleitung geschrieben, wie Sie das
Beste daraus machen können.</p>
</div>
</div>
</div>
<p>Eine bequeme Methode, um herauszufinden, welche Ressourcen für die
erfolgreiche Ausführung eines Jobs benötigt werden, besteht darin, einen
Testjob abzuschicken und dann den Scheduler mit
<code>sacct -u yourUsername</code> nach dessen Auswirkungen zu fragen.
Sie können dieses Wissen nutzen, um den nächsten Job mit einer genaueren
Abschätzung seiner Belastung des Systems einzurichten. Eine gute
allgemeine Regel ist es, den Scheduler um 20 bis 30 % mehr Zeit und
Speicher zu bitten, als Sie erwarten, daß der Job benötigt. Dadurch wird
sichergestellt, dass geringfügige Schwankungen in der Laufzeit oder im
Speicherbedarf nicht dazu führen, dass Ihr Auftrag vom Scheduler
abgebrochen wird. Wenn Sie zu viel verlangen, kann es sein, dass Ihr
Auftrag nicht ausgeführt werden kann, obwohl genügend Ressourcen zur
Verfügung stehen, weil der Scheduler darauf wartet, dass andere Aufträge
beendet werden und die Ressourcen freigeben, die für die von Ihnen
verlangte Menge benötigt werden.</p>
</section><section><h2 class="section-heading" id="statistiken">Statistiken<a class="anchor" aria-label="anchor" href="#statistiken"></a>
</h2>
<hr class="half-width">
<p>Da wir <code>amdahl</code> bereits zur Ausführung im Cluster
eingereicht haben, können wir den Scheduler abfragen, um zu sehen, wie
lange unser Job gedauert hat und welche Ressourcen verwendet wurden. Wir
werden <code>sacct -u yourUsername</code> verwenden, um Statistiken über
<code>parallel-job.sh</code> zu erhalten.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] sacct <span class="at">-u</span> yourUsername</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AUSGABE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>       JobID    JobName  Partition    Account  AllocCPUS      State ExitCode
------------ ---------- ---------- ---------- ---------- ---------- --------
7               file.sh cpubase_b+ def-spons+          1  COMPLETED      0:0
7.batch           batch            def-spons+          1  COMPLETED      0:0
7.extern         extern            def-spons+          1  COMPLETED      0:0
8               file.sh cpubase_b+ def-spons+          1  COMPLETED      0:0
8.batch           batch            def-spons+          1  COMPLETED      0:0
8.extern         extern            def-spons+          1  COMPLETED      0:0
9            example-j+ cpubase_b+ def-spons+          1  COMPLETED      0:0
9.batch           batch            def-spons+          1  COMPLETED      0:0
9.extern         extern            def-spons+          1  COMPLETED      0:0</code></pre>
</div>
<p>Hier werden alle Aufträge angezeigt, die heute ausgeführt wurden
(beachten Sie, dass es mehrere Einträge pro Auftrag gibt). Um
Informationen über einen bestimmten Auftrag zu erhalten (z. B. 347087),
ändern wir den Befehl leicht ab.</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] sacct <span class="at">-u</span> yourUsername <span class="at">-l</span> <span class="at">-j</span> 347087</span></code></pre>
</div>
<p>Hier werden viele Informationen angezeigt, und zwar jede einzelne
Information, die der Scheduler über Ihren Job sammelt. Es kann sinnvoll
sein, diese Informationen nach <code>less</code> umzuleiten, um sie
leichter einsehen zu können (verwenden Sie die Pfeiltasten links und
rechts, um durch die Felder zu blättern).</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="ex">[yourUsername@login1</span> ~] sacct <span class="at">-u</span> yourUsername <span class="at">-l</span> <span class="at">-j</span> 347087 <span class="kw">|</span> <span class="fu">less</span> <span class="at">-S</span></span></code></pre>
</div>
<div id="diskussion" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="diskussion" class="callout-inner">
<h3 class="callout-title">Diskussion</h3>
<div class="callout-content">
<p>Diese Ansicht hilft beim Vergleich der angeforderten und tatsächlich
genutzten Zeit, der Verweildauer in der Warteschlange vor dem Start und
des Speicherbedarfs auf dem/den Rechenknoten.</p>
<p>Wie genau waren unsere Schätzungen?</p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="verbesserung-der-ressourcenanfragen">Verbesserung der Ressourcenanfragen<a class="anchor" aria-label="anchor" href="#verbesserung-der-ressourcenanfragen"></a>
</h2>
<hr class="half-width">
<p>Aus der Job-Historie geht hervor, dass die Ausführung von
<code>amdahl</code> Jobs in höchstens ein paar Minuten abgeschlossen
war, sobald sie versandt wurden. Die von uns im Auftragsskript
angegebene Zeit war viel zu lang! Dadurch wird es für das
Warteschlangensystem schwieriger, genau abzuschätzen, wann Ressourcen
für andere Aufträge frei werden. In der Praxis bedeutet dies, dass das
Warteschlangensystem mit der Abfertigung unseres Auftrags
<code>amdahl</code> wartet, bis das gesamte angeforderte Zeitfenster
geöffnet wird, anstatt ihn in ein viel kürzeres Zeitfenster zu
“schieben”, in dem der Auftrag tatsächlich beendet werden könnte. Wenn
Sie die erwartete Laufzeit im Einreichungsskript genauer angeben, können
Sie die Überlastung des Clusters verringern und Ihren Auftrag
möglicherweise früher abfertigen lassen.</p>
<div id="eingrenzung-der-zeitabschätzung" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="eingrenzung-der-zeitabschätzung" class="callout-inner">
<h3 class="callout-title">Eingrenzung der Zeitabschätzung</h3>
<div class="callout-content">
<p>Bearbeiten Sie <code>parallel_job.sh</code>, um eine bessere
Zeitschätzung zu erhalten. Wie nah können Sie herankommen?</p>
<p>Hinweis: Verwenden Sie <code>-t</code>.</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Lösung
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<p>Die folgende Zeile teilt Slurm mit, dass unser Auftrag innerhalb von
2 Minuten beendet sein soll:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="co">#SBATCH -t 00:02:00</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Hauptpunkte</h3>
<div class="callout-content">
<ul>
<li>Präzise Jobskripte helfen dem Warteschlangensystem bei der
effizienten Zuweisung gemeinsamer Ressourcen.</li>
</ul>
</div>
</div>
</div>
</section></section><section id="aio-19-responsibility"><p>Content from <a href="19-responsibility.html">Gemeinsame Ressourcen verantwortungsvoll nutzen</a></p>
<hr>
<p>Zuletzt aktualisiert am 2025-08-04 |

        <a href="https://github.com/ocaisa/probable-pancake/edit/main/episodes/19-responsibility.Rmd" class="external-link">Diese Seite bearbeiten <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Geschätzte Zeit: <i aria-hidden="true" data-feather="clock"></i> 20 Minuten</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Alle Lösungen anzeigen " data-collapse="Alle Lösungen ausblenden "> Alle Lösungen anzeigen <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Übersicht</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Fragen</h3>
<ul>
<li>Wie kann ich ein verantwortlicher Benutzer sein?</li>
<li>Wie kann ich meine Daten schützen?</li>
<li>Wie kann ich am besten große Datenmengen von einem HPC-System
abrufen?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Ziele</h3>
<ul>
<li>Beschreiben Sie, wie sich die Aktionen eines einzelnen Benutzers auf
die Erfahrungen anderer Benutzer in einem gemeinsam genutzten System
auswirken können.</li>
<li>Diskutieren Sie das Verhalten eines rücksichtsvollen gemeinsamen
Systembürgers.</li>
<li>Erklären Sie, wie wichtig es ist, kritische Daten zu sichern.</li>
<li>Beschreiben Sie die Herausforderungen bei der Übertragung großer
Datenmengen von HPC-Systemen.</li>
<li>Konvertiert viele Dateien in eine einzige Archivdatei mit tar.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>Einer der Hauptunterschiede zwischen der Nutzung entfernter
HPC-Ressourcen und Ihrem eigenen System (z.B. Ihrem Laptop) ist, dass
entfernte Ressourcen gemeinsam genutzt werden. Wie viele Benutzer sich
die Ressourcen gleichzeitig teilen, ist von System zu System
unterschiedlich, aber es ist unwahrscheinlich, dass Sie jemals der
einzige Benutzer sind, der an einem solchen System angemeldet ist oder
es benutzt.</p>
<p>Der weit verbreitete Einsatz von Scheduling-Systemen, bei denen
Benutzer Jobs auf HPC-Ressourcen einreichen, ist ein natürliches
Ergebnis der gemeinsamen Nutzung dieser Ressourcen. Es gibt noch andere
Dinge, die Sie als aufrechtes Mitglied der Gemeinschaft beachten
müssen.</p>
<section><h2 class="section-heading" id="sei-nett-zu-den-login-knoten">Sei nett zu den Login-Knoten<a class="anchor" aria-label="anchor" href="#sei-nett-zu-den-login-knoten"></a>
</h2>
<hr class="half-width">
<p>Der Login-Knoten ist oft damit beschäftigt, alle angemeldeten
Benutzer zu verwalten, Dateien zu erstellen und zu bearbeiten und
Software zu kompilieren. Wenn dem Rechner der Speicher oder die
Verarbeitungskapazität ausgeht, wird er sehr langsam und für alle
unbrauchbar. Der Rechner soll zwar genutzt werden, aber bitte nur so,
dass die anderen Benutzer nicht beeinträchtigt werden.</p>
<p>Anmeldeknoten sind immer der richtige Ort, um Aufträge zu starten.
Cluster-Richtlinien variieren, aber sie können auch zum Testen von
Arbeitsabläufen verwendet werden, und in einigen Fällen können sie
erweiterte clusterspezifische Debugging- oder Entwicklungstools hosten.
Im Cluster gibt es möglicherweise Module, die geladen werden müssen,
möglicherweise in einer bestimmten Reihenfolge, und Pfade oder
Bibliotheksversionen, die sich von Ihrem Laptop unterscheiden. Ein
interaktiver Testlauf auf dem Hauptknoten ist eine schnelle und
zuverlässige Methode, um diese Probleme zu entdecken und zu beheben.</p>
<div id="anmeldeknoten-sind-eine-gemeinsam-genutzte-ressource" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="anmeldeknoten-sind-eine-gemeinsam-genutzte-ressource" class="callout-inner">
<h3 class="callout-title">Anmeldeknoten sind eine gemeinsam genutzte Ressource</h3>
<div class="callout-content">
<p>Denken Sie daran, dass der Login-Knoten mit allen anderen Benutzern
geteilt wird und dass Ihre Aktionen Probleme für andere Personen
verursachen könnten. Denken Sie daher sorgfältig über die möglichen
Auswirkungen von Befehlen nach, die große Mengen an Ressourcen
verbrauchen können.</p>
<p>Unsicher? Fragen Sie Ihren freundlichen Systemadministrator
(“sysadmin”), ob das, was Sie vorhaben, für den Login-Knoten geeignet
ist, oder ob es einen anderen Mechanismus gibt, um es sicher zu
erledigen.</p>
</div>
</div>
</div>
<p>Sie können immer die Befehle <code>top</code> und <code>ps ux</code>
verwenden, um die Prozesse aufzulisten, die auf dem Login-Knoten laufen,
zusammen mit der Menge an CPU und Speicher, die sie verwenden. Wenn
diese Überprüfung ergibt, dass der Login-Knoten einigermaßen untätig
ist, können Sie ihn gefahrlos für Ihre nicht-routinemäßige
Verarbeitungsaufgabe verwenden. Wenn etwas schief geht - der Prozess
braucht zu lange oder antwortet nicht - können Sie den Befehl
<code>kill</code> zusammen mit der <em>PID</em> verwenden, um den
Prozess zu beenden.</p>
<div id="login-knoten-knigge" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="login-knoten-knigge" class="callout-inner">
<h3 class="callout-title">Login-Knoten-Knigge</h3>
<div class="callout-content">
<p>Welcher dieser Befehle wäre eine Routineaufgabe, die auf dem
Anmeldeknoten ausgeführt werden sollte?</p>
<ol style="list-style-type: decimal">
<li><code>python physics_sim.py</code></li>
<li><code>make</code></li>
<li><code>create_directories.sh</code></li>
<li><code>molecular_dynamics_2</code></li>
<li><code>tar -xzf R-3.3.0.tar.gz</code></li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Lösung
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<p>Das Erstellen von Software, das Anlegen von Verzeichnissen und das
Entpacken von Software sind übliche und akzeptable &gt; Aufgaben für den
Login-Knoten: Die Optionen #2 (<code>make</code>), #3
(<code>mkdir</code>) und #5 (<code>tar</code>) sind wahrscheinlich OK.
Beachten Sie, dass Skriptnamen nicht immer ihren Inhalt widerspiegeln:
bevor Sie #3 starten, prüfen Sie bitte
<code>less create_directories.sh</code> und stellen Sie sicher, dass es
sich nicht um ein trojanisches Pferd handelt.</p>
<p>Das Ausführen ressourcenintensiver Anwendungen ist verpönt. Wenn Sie
nicht sicher sind, dass andere Benutzer nicht beeinträchtigt werden,
sollten Sie Aufträge wie #1 (<code>python</code>) oder #4
(benutzerdefinierter MD-Code) nicht ausführen. Wenn Sie unsicher sind,
fragen Sie Ihren freundlichen Systemadministrator um Rat.</p>
</div>
</div>
</div>
</div>
<p>Wenn Sie Leistungsprobleme mit einem Anmeldeknoten haben, sollten Sie
dies dem Systempersonal melden (normalerweise über den Helpdesk), damit
sie es untersuchen können.</p>
</section><section><h2 class="section-heading" id="test-vor-der-skalierung">Test vor der Skalierung<a class="anchor" aria-label="anchor" href="#test-vor-der-skalierung"></a>
</h2>
<hr class="half-width">
<p>Denken Sie daran, dass die Nutzung von gemeinsam genutzten Systemen
in der Regel kostenpflichtig ist. Ein einfacher Fehler in einem
Jobskript kann am Ende einen großen Teil des Ressourcenbudgets
verschlingen. Stellen Sie sich vor, ein Jobskript mit einem Fehler, der
dazu führt, dass es 24 Stunden lang auf 1000 Kernen nichts tut, oder
eines, bei dem Sie versehentlich 2000 Kerne angefordert haben und nur
100 davon nutzen! Dieses Problem kann sich noch verschärfen, wenn
Skripte geschrieben werden, die die Auftragsübermittlung automatisieren
(z. B. wenn dieselbe Berechnung oder Analyse mit vielen verschiedenen
Parametern oder Dateien ausgeführt wird). Dies schadet sowohl Ihnen (da
Sie viele gebührenpflichtige Ressourcen verschwenden) als auch anderen
Benutzern (denen der Zugriff auf die ungenutzten Rechenknoten verwehrt
wird). Bei stark ausgelasteten Ressourcen kann es vorkommen, dass Sie
tagelang in einer Warteschlange warten, bis Ihr Auftrag innerhalb von 10
Sekunden nach dem Start wegen eines trivialen Tippfehlers im
Auftragsskript fehlschlägt. Das ist extrem frustrierend!</p>
<p>Die meisten Systeme bieten spezielle Ressourcen zum Testen an, die
kurze Wartezeiten haben, damit Sie dieses Problem vermeiden können.</p>
<div id="testen-sie-skripte-für-die-übermittlung-von-aufträgen-die-große-mengen-an-ressourcen-verwenden" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="testen-sie-skripte-für-die-übermittlung-von-aufträgen-die-große-mengen-an-ressourcen-verwenden" class="callout-inner">
<h3 class="callout-title">Testen Sie Skripte für die Übermittlung von Aufträgen, die große Mengen an Ressourcen verwenden</h3>
<div class="callout-content">
<p>Bevor Sie eine große Anzahl von Aufträgen übermitteln, sollten Sie
zunächst einen Testlauf durchführen, um sicherzustellen, dass alles wie
erwartet funktioniert.</p>
<p>Bevor Sie einen sehr großen oder sehr langen Auftrag übermitteln,
führen Sie einen kurzen, verkürzten Test durch, um sicherzustellen, dass
der Auftrag wie erwartet startet.</p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="have-a-backup-plan">Have a Backup Plan<a class="anchor" aria-label="anchor" href="#have-a-backup-plan"></a>
</h2>
<hr class="half-width">
<p>Obwohl viele HPC-Systeme Backups aufbewahren, decken diese nicht
immer alle verfügbaren Dateisysteme ab und sind möglicherweise nur für
Disaster Recovery-Zwecke gedacht (d.h. für die Wiederherstellung des
gesamten Dateisystems im Falle eines Verlustes und nicht für eine
einzelne Datei oder ein Verzeichnis, das Sie versehentlich gelöscht
haben). Der Schutz kritischer Daten vor Beschädigung oder Löschung liegt
in erster Linie in Ihrer Verantwortung: Erstellen Sie eigene
Sicherungskopien.</p>
<p>Versionskontrollsysteme (wie Git) haben oft kostenlose,
Cloud-basierte Angebote (z. B. GitHub und GitLab), die im Allgemeinen
zum Speichern von Quellcode verwendet werden. Auch wenn Sie keine
eigenen Programme schreiben, können diese sehr nützlich sein, um
Jobskripte, Analyseskripte und kleine Eingabedateien zu speichern.</p>
<p>Wenn Sie Software erstellen, haben Sie möglicherweise eine große
Menge an Quellcode, den Sie kompilieren, um Ihre ausführbare Datei zu
erstellen. Da diese Daten im Allgemeinen durch erneutes Herunterladen
des Codes oder durch erneutes Auschecken aus dem Quellcode-Repository
wiederhergestellt werden können, sind diese Daten auch weniger kritisch
zu schützen.</p>
<p>Bei größeren Datenmengen, insbesondere bei wichtigen Ergebnissen
Ihrer Läufe, die möglicherweise unersetzlich sind, sollten Sie
sicherstellen, dass Sie über ein robustes System verfügen, mit dem Sie
Kopien der Daten vom HPC-System nach Möglichkeit auf einen gesicherten
Speicherplatz übertragen. Werkzeuge wie <code>rsync</code> können dabei
sehr nützlich sein.</p>
<p>Ihr Zugriff auf das gemeinsam genutzte HPC-System ist in der Regel
zeitlich begrenzt, daher sollten Sie sicherstellen, dass Sie einen Plan
für die Übertragung Ihrer Daten vom System haben, bevor Ihr Zugriff
endet. Die Zeit, die für die Übertragung großer Datenmengen benötigt
wird, sollte nicht unterschätzt werden, und Sie sollten sicherstellen,
dass Sie dies früh genug geplant haben (idealerweise, bevor Sie das
System überhaupt für Ihre Forschung nutzen).</p>
<p>In all diesen Fällen sollte der Helpdesk des von Ihnen verwendeten
Systems in der Lage sein, Ihnen nützliche Hinweise zu den Möglichkeiten
der Datenübertragung für die von Ihnen verwendeten Datenmengen zu
geben.</p>
<div id="ihre-daten-sind-ihre-verantwortung" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="ihre-daten-sind-ihre-verantwortung" class="callout-inner">
<h3 class="callout-title">Ihre Daten sind Ihre Verantwortung</h3>
<div class="callout-content">
<p>Vergewissern Sie sich, dass Sie die Sicherungsrichtlinien für die
Dateisysteme auf dem von Ihnen verwendeten System kennen und wissen,
welche Auswirkungen dies auf Ihre Arbeit hat, wenn Sie Ihre Daten auf
dem System verlieren. Planen Sie die Sicherung kritischer Daten und die
Art und Weise, wie Sie die Daten während des Projekts aus dem System
transferieren werden.</p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="übertragen-von-daten">Übertragen von Daten<a class="anchor" aria-label="anchor" href="#%C3%BCbertragen-von-daten"></a>
</h2>
<hr class="half-width">
<p>Wie bereits erwähnt, stehen viele Benutzer irgendwann vor der
Herausforderung, große Datenmengen von HPC-Systemen zu übertragen (dies
geschieht häufiger bei der Übertragung von Daten von als auf Systeme,
aber die folgenden Ratschläge gelten in beiden Fällen). Die
Geschwindigkeit der Datenübertragung kann durch viele verschiedene
Faktoren begrenzt werden, so dass der am besten geeignete
Datenübertragungsmechanismus von der Art der zu übertragenden Daten und
dem Zielort der Daten abhängt.</p>
<p>Die Komponenten zwischen der Quelle und dem Ziel Ihrer Daten haben
unterschiedliche Leistungsniveaus und können insbesondere
unterschiedliche Fähigkeiten in Bezug auf <strong>Bandbreite</strong>
und <strong>Latenz</strong> haben.</p>
<p><strong>Bandbreite</strong> ist im Allgemeinen die Rohdatenmenge pro
Zeiteinheit, die ein Gerät senden oder empfangen kann. Es ist eine
übliche und allgemein gut verstandene Metrik.</p>
<p><strong>Latenz</strong> ist ein wenig subtiler. Bei
Datenübertragungen kann man sie sich als die Zeit vorstellen, die
benötigt wird, um Daten aus dem Speicher in eine übertragbare Form zu
bringen. Latenzprobleme sind der Grund dafür, dass es ratsam ist,
Datenübertragungen durch das Verschieben einer kleinen Anzahl großer
Dateien durchzuführen und nicht umgekehrt.</p>
<p>Einige der Schlüsselkomponenten und die damit verbundenen Probleme
sind:</p>
<ul>
<li>
<strong>Festplattengeschwindigkeit</strong>: Dateisysteme auf
HPC-Systemen sind oft hochgradig parallel und bestehen aus einer sehr
großen Anzahl von Hochleistungslaufwerken. Dadurch können sie eine sehr
hohe Datenbandbreite unterstützen. Wenn das entfernte System nicht über
ein ähnlich paralleles Dateisystem verfügt, kann die
Übertragungsgeschwindigkeit durch die dortige Festplattenleistung
begrenzt sein.</li>
<li>
<strong>Metadaten-Leistung</strong>: <em>Metadaten-Operationen</em>
wie das Öffnen und Schließen von Dateien oder das Auflisten des
Besitzers oder der Größe einer Datei sind viel weniger parallel als
Lese-/Schreiboperationen. Wenn Ihre Daten aus einer sehr großen Anzahl
kleiner Dateien bestehen, kann es sein, dass Ihre
Übertragungsgeschwindigkeit durch Metadatenoperationen begrenzt wird.
Metadaten-Operationen, die von anderen Benutzern des Systems
durchgeführt werden, können auch stark mit den von Ihnen durchgeführten
Operationen interagieren, so dass eine Verringerung der Anzahl solcher
Operationen (durch Zusammenfassen mehrerer Dateien zu einer einzigen
Datei) die Variabilität Ihrer Übertragungsraten verringern und die
Übertragungsgeschwindigkeit erhöhen kann.</li>
<li>
<strong>Netzwerkgeschwindigkeit</strong>: Die Leistung der
Datenübertragung kann durch die Netzwerkgeschwindigkeit begrenzt werden.
Noch wichtiger ist, dass sie durch den langsamsten Abschnitt des
Netzwerks zwischen Quelle und Ziel begrenzt wird. Wenn Sie die Daten auf
Ihren Laptop/Arbeitsplatz übertragen, ist dies wahrscheinlich seine
Verbindung (entweder über LAN oder WiFi).</li>
<li>
<strong>Firewall-Geschwindigkeit</strong>: Die meisten modernen
Netzwerke sind durch eine Art Firewall geschützt, die bösartigen
Datenverkehr herausfiltert. Diese Filterung ist mit einem gewissen
Overhead verbunden und kann zu einer Verringerung der
Datenübertragungsleistung führen. Die Anforderungen eines
Allzwecknetzes, das E-Mail-/Web-Server und Desktop-Rechner beherbergt,
unterscheiden sich deutlich von denen eines Forschungsnetzes, das große
Datenmengen übertragen muss. Wenn Sie versuchen, Daten zu oder von einem
Host in einem Netzwerk für allgemeine Zwecke zu übertragen, werden Sie
feststellen, dass die Firewall dieses Netzwerks die erreichbare
Übertragungsrate begrenzt.</li>
</ul>
<p>Wie bereits erwähnt, wird bei zusammenhängenden Daten, die aus einer
großen Anzahl kleiner Dateien bestehen, dringend empfohlen, die Dateien
zur langfristigen Speicherung und Übertragung in eine größere
<em>Archiv</em>-Datei zu packen. Eine einzelne große Datei nutzt das
Dateisystem effizienter und ist einfacher zu verschieben, zu kopieren
und zu übertragen, da deutlich weniger Metadatenoperationen erforderlich
sind. Archivdateien können mit Werkzeugen wie <code>tar</code> und
<code>zip</code> erstellt werden. Wir haben <code>tar</code> bereits
kennengelernt, als wir früher über die Datenübertragung gesprochen
haben.</p>
<figure><img src="../fig/responsibility-bandwidth.svg" max-width="90%" alt="Schematische Darstellung der Netzwerkbandbreite" class="figure mx-auto d-block"><div class="figcaption">Schematische Darstellung der Bandbreite und
Latenz für Festplatten- und Netzwerk-E/A. Jede der Komponenten in der
Abbildung ist durch eine blaue Linie verbunden, deren Breite
proportional zur Schnittstellenbandbreite ist. Die kleinen Labyrinthe an
den Verbindungspunkten veranschaulichen die Latenz der Verbindung, wobei
gewundenere Labyrinthe eine höhere Latenz anzeigen.</div>
</figure><div id="überlegen-sie-wie-sie-die-daten-am-besten-übertragen" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="überlegen-sie-wie-sie-die-daten-am-besten-übertragen" class="callout-inner">
<h3 class="callout-title">Überlegen Sie, wie Sie die Daten am besten übertragen</h3>
<div class="callout-content">
<p>Wenn Sie große Datenmengen übertragen, müssen Sie sich Gedanken
darüber machen, was Ihre Übertragungsleistung beeinträchtigen könnte. Es
ist immer sinnvoll, einige Tests durchzuführen, anhand derer Sie
hochrechnen können, wie lange die Übertragung Ihrer Daten dauern
wird.</p>
<p>Angenommen, Sie haben einen Ordner “data”, der etwa 10.000 Dateien
enthält, eine gesunde Mischung aus kleinen und großen ASCII- und
Binärdaten. Welche der folgenden Möglichkeiten wäre die beste, um sie
nach HPC Carpentry’s Cloud Cluster zu übertragen?</p>
<ol style="list-style-type: decimal">
<li><p><code>scp -r data yourUsername@cluster.hpc-carpentry.org:~/</code></p></li>
<li><p><code>rsync -ra data yourUsername@cluster.hpc-carpentry.org:~/</code></p></li>
<li><p><code>rsync -raz data yourUsername@cluster.hpc-carpentry.org:~/</code></p></li>
<li>
<p><code>tar -cvf data.tar data;</code></p>
<p><code>rsync -raz data.tar yourUsername@cluster.hpc-carpentry.org:~/</code></p>
</li>
<li>
<p><code>tar -cvzf data.tar.gz data;</code></p>
<p><code>rsync -ra data.tar.gz yourUsername@cluster.hpc-carpentry.org:~/</code></p>
</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">
  Lösung
  </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<ol style="list-style-type: decimal">
<li>
<code>scp</code> wird das Verzeichnis rekursiv kopieren. Dies
funktioniert, aber ohne Kompression.</li>
<li>
<code>rsync -ra</code> funktioniert wie <code>scp -r</code>, behält
aber Dateiinformationen wie Erstellungszeiten bei. Dies ist geringfügig
besser.</li>
<li>
<code>rsync -raz</code> fügt eine Komprimierung hinzu, die etwas
Bandbreite spart. Wenn Sie eine starke CPU an beiden Enden der Leitung
haben und sich in einem langsamen Netzwerk befinden, ist dies eine gute
Wahl.</li>
<li>Dieser Befehl verwendet zunächst <code>tar</code>, um alles in einer
einzigen Datei zusammenzufassen, und dann <code>rsync -z</code>, um es
mit Kompression zu übertragen. Bei einer so großen <em>Anzahl</em> von
Dateien kann der Overhead an Metadaten die Übertragung behindern, daher
ist dies eine gute Idee.</li>
<li>Dieser Befehl verwendet <code>tar -z</code>, um das Archiv zu
komprimieren, und dann <code>rsync</code>, um es zu übertragen. Dies
kann ähnlich funktionieren wie #4, aber in den meisten Fällen (bei
großen Datenmengen) ist es die beste Kombination aus hohem Durchsatz und
niedriger Latenz (um das Beste aus Ihrer Zeit und Ihrer
Netzwerkverbindung zu machen).</li>
</ol>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Hauptpunkte</h3>
<div class="callout-content">
<ul>
<li>Seien Sie vorsichtig, wie Sie den Login-Knoten verwenden.</li>
<li>Für Ihre Daten auf dem System sind Sie selbst verantwortlich.</li>
<li>Planen und Testen großer Datenübertragungen.</li>
<li>Es ist oft am besten, viele Dateien vor der Übertragung in eine
einzige Archivdatei zu konvertieren.</li>
</ul>
</div>
</div>
</div>
</section></section>
</div>
    </main>
</div>
<!-- END  : inst/pkgdown/templates/content-extra.html -->

      </div>
<!--/div.row-->
      		<footer class="row footer mx-md-3"><hr>
<div class="col-md-6">
        <p>Diese Lektion unterliegt dem <a href="CODE_OF_CONDUCT.html">Verhaltenskodex</a></p>
        <p>

        <a href="https://github.com/ocaisa/probable-pancake/edit/main/README.md" class="external-link">Auf GitHub bearbeiten</a>

	
        | <a href="https://github.com/ocaisa/probable-pancake/blob/main/CONTRIBUTING.md" class="external-link">Beitragen</a>
        | <a href="https://github.com/ocaisa/probable-pancake/" class="external-link">Quelle</a></p>
				<p><a href="https://github.com/ocaisa/probable-pancake/blob/main/CITATION" class="external-link">Zitieren</a> | <a href="mailto:team@carpentries.org">Kontakt</a> | <a href="https://carpentries.org/about/" class="external-link">Über</a></p>
			</div>
			<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Vorlage lizenziert unter <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> von <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Erstellt mit <a href="https://github.com/carpentries/sandpaper/tree/0.16.12" class="external-link">sandpaper (0.16.12)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.9" class="external-link">pegboard (0.7.9)</a> und <a href="https://github.com/carpentries/varnish/tree/1.0.6" class="external-link">varnish (1.0.6)</a></p>
			</div>
		</footer>
</div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Zurück nach oben"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Zurück</span> nach oben
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "LearningResource",
  "@id": "https://ocaisa.github.io/probable_pancake/instructor/aio.html",
  "inLanguage": "de",
  "dct:conformsTo": "https://bioschemas.org/profiles/LearningResource/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, data, lesson, The Carpentries",
  "name": "Alles auf einen Blick",
  "creativeWorkStatus": "active",
  "url": "https://ocaisa.github.io/probable_pancake/instructor/aio.html",
  "identifier": "https://ocaisa.github.io/probable_pancake/instructor/aio.html",
  "dateCreated": "2017-03-24",
  "dateModified": "2025-08-04",
  "datePublished": "2025-08-04"
}

  </script><script>
		feather.replace();
	</script><!-- Matomo --><script>
          var _paq = window._paq = window._paq || [];
          /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
          _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
          _paq.push(["setDomains", ["*.lessons.carpentries.org","*.datacarpentry.github.io","*.datacarpentry.org","*.librarycarpentry.github.io","*.librarycarpentry.org","*.swcarpentry.github.io", "*.carpentries.github.io"]]);
          _paq.push(["setDoNotTrack", true]);
          _paq.push(["disableCookies"]);
          _paq.push(["trackPageView"]);
          _paq.push(["enableLinkTracking"]);
          (function() {
              var u="https://matomo.carpentries.org/";
              _paq.push(["setTrackerUrl", u+"matomo.php"]);
              _paq.push(["setSiteId", "1"]);
              var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0];
              g.async=true; g.src="https://matomo.carpentries.org/matomo.js"; s.parentNode.insertBefore(g,s);
          })();
        </script><!-- End Matomo Code -->
</body>
</html><!-- END:   inst/pkgdown/templates/layout.html-->

